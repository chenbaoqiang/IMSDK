// ************************************************************************************
//  NOTICE: This File Generated By Tools. DO NOT Modify. Copyright (c) Interrcs.com
// ************************************************************************************

#include "com_interrcs_sdk_RcsApi.h"
#include "stdio.h"
#include "rcs_enum.h"
#include "rcs_api.h"
#include "lua.h"
#include "lauxlib.h"
#include <android/log.h>

#ifdef __cplusplus
extern "C"
{
#endif

static JavaVM *gJavaVM;
static jclass jCls;
JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativegpinvitemember(JNIEnv *env, jclass cls, jlong statePtr, jstring group_uri, jstring target)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call gpinvitemember");

    rcs_state *R = (void *)((intptr_t)statePtr);

    const char *c_group_uri = (*env)->GetStringUTFChars(env, group_uri, NULL);
	const char *c_target = (*env)->GetStringUTFChars(env, target, NULL);
	
    int cid = rcs_gpinvitemember(R, rcs_new_command_id(R), c_group_uri, c_target);

    (*env)->ReleaseStringUTFChars(env, group_uri, c_group_uri);
	(*env)->ReleaseStringUTFChars(env, target, c_target);
	
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativesetnotifyread(JNIEnv *env, jclass cls, jlong statePtr, jstring msg_imdn_id)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call setnotifyread");

    rcs_state *R = (void *)((intptr_t)statePtr);

    const char *c_msg_imdn_id = (*env)->GetStringUTFChars(env, msg_imdn_id, NULL);
	
    int cid = rcs_setnotifyread(R, rcs_new_command_id(R), c_msg_imdn_id);

    (*env)->ReleaseStringUTFChars(env, msg_imdn_id, c_msg_imdn_id);
	
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativemsgsendreport(JNIEnv *env, jclass cls, jlong statePtr, jstring number, jstring msg_imdn_id, jint report_type, jint directed_type, jstring target)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call msgsendreport");

    rcs_state *R = (void *)((intptr_t)statePtr);

    const char *c_number = (*env)->GetStringUTFChars(env, number, NULL);
	const char *c_msg_imdn_id = (*env)->GetStringUTFChars(env, msg_imdn_id, NULL);
	const char *c_target = (*env)->GetStringUTFChars(env, target, NULL);
	
    int cid = rcs_msgsendreport(R, rcs_new_command_id(R), c_number, c_msg_imdn_id, report_type, directed_type, c_target);

    (*env)->ReleaseStringUTFChars(env, number, c_number);
	(*env)->ReleaseStringUTFChars(env, msg_imdn_id, c_msg_imdn_id);
	(*env)->ReleaseStringUTFChars(env, target, c_target);
	
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativedisablepush(JNIEnv *env, jclass cls, jlong statePtr)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call disablepush");

    rcs_state *R = (void *)((intptr_t)statePtr);

    
    int cid = rcs_disablepush(R, rcs_new_command_id(R));

    
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativeprovision(JNIEnv *env, jclass cls, jlong statePtr, jstring username, jstring pwd)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call provision");

    rcs_state *R = (void *)((intptr_t)statePtr);

    const char *c_username = (*env)->GetStringUTFChars(env, username, NULL);
	const char *c_pwd = (*env)->GetStringUTFChars(env, pwd, NULL);
	
    int cid = rcs_provision(R, rcs_new_command_id(R), c_username, c_pwd);

    (*env)->ReleaseStringUTFChars(env, username, c_username);
	(*env)->ReleaseStringUTFChars(env, pwd, c_pwd);
	
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativegpquit(JNIEnv *env, jclass cls, jlong statePtr, jstring group_uri)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call gpquit");

    rcs_state *R = (void *)((intptr_t)statePtr);

    const char *c_group_uri = (*env)->GetStringUTFChars(env, group_uri, NULL);
	
    int cid = rcs_gpquit(R, rcs_new_command_id(R), c_group_uri);

    (*env)->ReleaseStringUTFChars(env, group_uri, c_group_uri);
	
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativeusersetbdflag(JNIEnv *env, jclass cls, jlong statePtr, jint buddyflag)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call usersetbdflag");

    rcs_state *R = (void *)((intptr_t)statePtr);

    
    int cid = rcs_usersetbdflag(R, rcs_new_command_id(R), buddyflag);

    
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativedeviceremove(JNIEnv *env, jclass cls, jlong statePtr, jstring uid)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call deviceremove");

    rcs_state *R = (void *)((intptr_t)statePtr);

    const char *c_uid = (*env)->GetStringUTFChars(env, uid, NULL);
	
    int cid = rcs_deviceremove(R, rcs_new_command_id(R), c_uid);

    (*env)->ReleaseStringUTFChars(env, uid, c_uid);
	
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativeusersetdnd(JNIEnv *env, jclass cls, jlong statePtr, jint dndflag)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call usersetdnd");

    rcs_state *R = (void *)((intptr_t)statePtr);

    
    int cid = rcs_usersetdnd(R, rcs_new_command_id(R), dndflag);

    
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativegpdelete(JNIEnv *env, jclass cls, jlong statePtr, jstring group_uri)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call gpdelete");

    rcs_state *R = (void *)((intptr_t)statePtr);

    const char *c_group_uri = (*env)->GetStringUTFChars(env, group_uri, NULL);
	
    int cid = rcs_gpdelete(R, rcs_new_command_id(R), c_group_uri);

    (*env)->ReleaseStringUTFChars(env, group_uri, c_group_uri);
	
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativebuddydel(JNIEnv *env, jclass cls, jlong statePtr, jint userId)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call buddydel");

    rcs_state *R = (void *)((intptr_t)statePtr);

    
    int cid = rcs_buddydel(R, rcs_new_command_id(R), userId);

    
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativegpreject(JNIEnv *env, jclass cls, jlong statePtr, jstring group_uri, jstring inviter)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call gpreject");

    rcs_state *R = (void *)((intptr_t)statePtr);

    const char *c_group_uri = (*env)->GetStringUTFChars(env, group_uri, NULL);
	const char *c_inviter = (*env)->GetStringUTFChars(env, inviter, NULL);
	
    int cid = rcs_gpreject(R, rcs_new_command_id(R), c_group_uri, c_inviter);

    (*env)->ReleaseStringUTFChars(env, group_uri, c_group_uri);
	(*env)->ReleaseStringUTFChars(env, inviter, c_inviter);
	
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativegetconvhistory(JNIEnv *env, jclass cls, jlong statePtr, jint conv_type, jstring conv_id, jint page_limit, jstring begin_imdn_id)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call getconvhistory");

    rcs_state *R = (void *)((intptr_t)statePtr);

    const char *c_conv_id = (*env)->GetStringUTFChars(env, conv_id, NULL);
	const char *c_begin_imdn_id = (*env)->GetStringUTFChars(env, begin_imdn_id, NULL);
	
    int cid = rcs_getconvhistory(R, rcs_new_command_id(R), conv_type, c_conv_id, page_limit, c_begin_imdn_id);

    (*env)->ReleaseStringUTFChars(env, conv_id, c_conv_id);
	(*env)->ReleaseStringUTFChars(env, begin_imdn_id, c_begin_imdn_id);
	
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativefetchsharefile(JNIEnv *env, jclass cls, jlong statePtr, jstring target_id, jstring message_id, jstring file_id, jstring share_file_id, jint start, jint file_size, jstring file_path)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call fetchsharefile");

    rcs_state *R = (void *)((intptr_t)statePtr);

    const char *c_target_id = (*env)->GetStringUTFChars(env, target_id, NULL);
	const char *c_message_id = (*env)->GetStringUTFChars(env, message_id, NULL);
	const char *c_file_id = (*env)->GetStringUTFChars(env, file_id, NULL);
	const char *c_share_file_id = (*env)->GetStringUTFChars(env, share_file_id, NULL);
	const char *c_file_path = (*env)->GetStringUTFChars(env, file_path, NULL);
	
    int cid = rcs_fetchsharefile(R, rcs_new_command_id(R), c_target_id, c_message_id, c_file_id, c_share_file_id, start, file_size, c_file_path);

    (*env)->ReleaseStringUTFChars(env, target_id, c_target_id);
	(*env)->ReleaseStringUTFChars(env, message_id, c_message_id);
	(*env)->ReleaseStringUTFChars(env, file_id, c_file_id);
	(*env)->ReleaseStringUTFChars(env, share_file_id, c_share_file_id);
	(*env)->ReleaseStringUTFChars(env, file_path, c_file_path);
	
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativedeviceadd(JNIEnv *env, jclass cls, jlong statePtr, jstring uid, jstring password)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call deviceadd");

    rcs_state *R = (void *)((intptr_t)statePtr);

    const char *c_uid = (*env)->GetStringUTFChars(env, uid, NULL);
	const char *c_password = (*env)->GetStringUTFChars(env, password, NULL);
	
    int cid = rcs_deviceadd(R, rcs_new_command_id(R), c_uid, c_password);

    (*env)->ReleaseStringUTFChars(env, uid, c_uid);
	(*env)->ReleaseStringUTFChars(env, password, c_password);
	
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativelogin(JNIEnv *env, jclass cls, jlong statePtr, jstring username, jstring password)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call login");

    rcs_state *R = (void *)((intptr_t)statePtr);

    const char *c_username = (*env)->GetStringUTFChars(env, username, NULL);
	const char *c_password = (*env)->GetStringUTFChars(env, password, NULL);
	
    int cid = rcs_login(R, rcs_new_command_id(R), c_username, c_password);

    (*env)->ReleaseStringUTFChars(env, username, c_username);
	(*env)->ReleaseStringUTFChars(env, password, c_password);
	
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativegpmodifynickname(JNIEnv *env, jclass cls, jlong statePtr, jstring group_uri, jstring nickName)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call gpmodifynickname");

    rcs_state *R = (void *)((intptr_t)statePtr);

    const char *c_group_uri = (*env)->GetStringUTFChars(env, group_uri, NULL);
	const char *c_nickName = (*env)->GetStringUTFChars(env, nickName, NULL);
	
    int cid = rcs_gpmodifynickname(R, rcs_new_command_id(R), c_group_uri, c_nickName);

    (*env)->ReleaseStringUTFChars(env, group_uri, c_group_uri);
	(*env)->ReleaseStringUTFChars(env, nickName, c_nickName);
	
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativegetuserstates(JNIEnv *env, jclass cls, jlong statePtr)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call getuserstates");

    rcs_state *R = (void *)((intptr_t)statePtr);

    
    int cid = rcs_getuserstates(R, rcs_new_command_id(R));

    
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativegetconvlist(JNIEnv *env, jclass cls, jlong statePtr)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call getconvlist");

    rcs_state *R = (void *)((intptr_t)statePtr);

    
    int cid = rcs_getconvlist(R, rcs_new_command_id(R));

    
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativeusersetpermissionuidflag(JNIEnv *env, jclass cls, jlong statePtr, jint uidflag)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call usersetpermissionuidflag");

    rcs_state *R = (void *)((intptr_t)statePtr);

    
    int cid = rcs_usersetpermissionuidflag(R, rcs_new_command_id(R), uidflag);

    
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativebklistadd(JNIEnv *env, jclass cls, jlong statePtr, jstring uid)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call bklistadd");

    rcs_state *R = (void *)((intptr_t)statePtr);

    const char *c_uid = (*env)->GetStringUTFChars(env, uid, NULL);
	
    int cid = rcs_bklistadd(R, rcs_new_command_id(R), c_uid);

    (*env)->ReleaseStringUTFChars(env, uid, c_uid);
	
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativemsgfetchfile(JNIEnv *env, jclass cls, jlong statePtr, jstring number, jstring message_id, jint chat_type, jstring file_path, jint content_type, jstring file_name, jstring transfer_id, jint start, jint file_size, jstring hash, jint is_burn)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call msgfetchfile");

    rcs_state *R = (void *)((intptr_t)statePtr);

    const char *c_number = (*env)->GetStringUTFChars(env, number, NULL);
	const char *c_message_id = (*env)->GetStringUTFChars(env, message_id, NULL);
	const char *c_file_path = (*env)->GetStringUTFChars(env, file_path, NULL);
	const char *c_file_name = (*env)->GetStringUTFChars(env, file_name, NULL);
	const char *c_transfer_id = (*env)->GetStringUTFChars(env, transfer_id, NULL);
	const char *c_hash = (*env)->GetStringUTFChars(env, hash, NULL);
	
    int cid = rcs_msgfetchfile(R, rcs_new_command_id(R), c_number, c_message_id, chat_type, c_file_path, content_type, c_file_name, c_transfer_id, start, file_size, c_hash, is_burn);

    (*env)->ReleaseStringUTFChars(env, number, c_number);
	(*env)->ReleaseStringUTFChars(env, message_id, c_message_id);
	(*env)->ReleaseStringUTFChars(env, file_path, c_file_path);
	(*env)->ReleaseStringUTFChars(env, file_name, c_file_name);
	(*env)->ReleaseStringUTFChars(env, transfer_id, c_transfer_id);
	(*env)->ReleaseStringUTFChars(env, hash, c_hash);
	
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativegetsmscode(JNIEnv *env, jclass cls, jlong statePtr, jstring number)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call getsmscode");

    rcs_state *R = (void *)((intptr_t)statePtr);

    const char *c_number = (*env)->GetStringUTFChars(env, number, NULL);
	
    int cid = rcs_getsmscode(R, rcs_new_command_id(R), c_number);

    (*env)->ReleaseStringUTFChars(env, number, c_number);
	
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativegpmodifysubject(JNIEnv *env, jclass cls, jlong statePtr, jstring group_uri, jstring subject)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call gpmodifysubject");

    rcs_state *R = (void *)((intptr_t)statePtr);

    const char *c_group_uri = (*env)->GetStringUTFChars(env, group_uri, NULL);
	const char *c_subject = (*env)->GetStringUTFChars(env, subject, NULL);
	
    int cid = rcs_gpmodifysubject(R, rcs_new_command_id(R), c_group_uri, c_subject);

    (*env)->ReleaseStringUTFChars(env, group_uri, c_group_uri);
	(*env)->ReleaseStringUTFChars(env, subject, c_subject);
	
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativeusergetportrait(JNIEnv *env, jclass cls, jlong statePtr, jint userId, jint isSmall)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call usergetportrait");

    rcs_state *R = (void *)((intptr_t)statePtr);

    
    int cid = rcs_usergetportrait(R, rcs_new_command_id(R), userId, isSmall);

    
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativegpmodifybulletin(JNIEnv *env, jclass cls, jlong statePtr, jstring group_uri, jstring bulletin)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call gpmodifybulletin");

    rcs_state *R = (void *)((intptr_t)statePtr);

    const char *c_group_uri = (*env)->GetStringUTFChars(env, group_uri, NULL);
	const char *c_bulletin = (*env)->GetStringUTFChars(env, bulletin, NULL);
	
    int cid = rcs_gpmodifybulletin(R, rcs_new_command_id(R), c_group_uri, c_bulletin);

    (*env)->ReleaseStringUTFChars(env, group_uri, c_group_uri);
	(*env)->ReleaseStringUTFChars(env, bulletin, c_bulletin);
	
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativegpapproval(JNIEnv *env, jclass cls, jlong statePtr, jstring group_uri, jstring applicant, jint handle_result, jstring reply_msg)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call gpapproval");

    rcs_state *R = (void *)((intptr_t)statePtr);

    const char *c_group_uri = (*env)->GetStringUTFChars(env, group_uri, NULL);
	const char *c_applicant = (*env)->GetStringUTFChars(env, applicant, NULL);
	const char *c_reply_msg = (*env)->GetStringUTFChars(env, reply_msg, NULL);
	
    int cid = rcs_gpapproval(R, rcs_new_command_id(R), c_group_uri, c_applicant, handle_result, c_reply_msg);

    (*env)->ReleaseStringUTFChars(env, group_uri, c_group_uri);
	(*env)->ReleaseStringUTFChars(env, applicant, c_applicant);
	(*env)->ReleaseStringUTFChars(env, reply_msg, c_reply_msg);
	
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativemsgsendfile(JNIEnv *env, jclass cls, jlong statePtr, jstring number, jstring message_id, jstring file_path, jint content_type, jstring file_name, jint need_report, jint start, jstring thumbnail, jint is_burn, jint directed_type, jint need_read_report, jstring extension)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call msgsendfile");

    rcs_state *R = (void *)((intptr_t)statePtr);

    const char *c_number = (*env)->GetStringUTFChars(env, number, NULL);
	const char *c_message_id = (*env)->GetStringUTFChars(env, message_id, NULL);
	const char *c_file_path = (*env)->GetStringUTFChars(env, file_path, NULL);
	const char *c_file_name = (*env)->GetStringUTFChars(env, file_name, NULL);
	const char *c_thumbnail = (*env)->GetStringUTFChars(env, thumbnail, NULL);
	const char *c_extension = (*env)->GetStringUTFChars(env, extension, NULL);
	
    int cid = rcs_msgsendfile(R, rcs_new_command_id(R), c_number, c_message_id, c_file_path, content_type, c_file_name, need_report, start, c_thumbnail, is_burn, directed_type, need_read_report, c_extension);

    (*env)->ReleaseStringUTFChars(env, number, c_number);
	(*env)->ReleaseStringUTFChars(env, message_id, c_message_id);
	(*env)->ReleaseStringUTFChars(env, file_path, c_file_path);
	(*env)->ReleaseStringUTFChars(env, file_name, c_file_name);
	(*env)->ReleaseStringUTFChars(env, thumbnail, c_thumbnail);
	(*env)->ReleaseStringUTFChars(env, extension, c_extension);
	
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativeresume(JNIEnv *env, jclass cls, jlong statePtr)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call resume");

    rcs_state *R = (void *)((intptr_t)statePtr);

    
    int cid = rcs_resume(R, rcs_new_command_id(R));

    
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativeusergetprofile(JNIEnv *env, jclass cls, jlong statePtr, jstring user)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call usergetprofile");

    rcs_state *R = (void *)((intptr_t)statePtr);

    const char *c_user = (*env)->GetStringUTFChars(env, user, NULL);
	
    int cid = rcs_usergetprofile(R, rcs_new_command_id(R), c_user);

    (*env)->ReleaseStringUTFChars(env, user, c_user);
	
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativegpsearch(JNIEnv *env, jclass cls, jlong statePtr, jstring subject)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call gpsearch");

    rcs_state *R = (void *)((intptr_t)statePtr);

    const char *c_subject = (*env)->GetStringUTFChars(env, subject, NULL);
	
    int cid = rcs_gpsearch(R, rcs_new_command_id(R), c_subject);

    (*env)->ReleaseStringUTFChars(env, subject, c_subject);
	
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativemsgsendfileex(JNIEnv *env, jclass cls, jlong statePtr, jstring number, jstring message_id, jstring file_path, jint content_type, jstring file_name, jint need_report, jint start, jstring thumbnail, jint duration, jint is_burn, jint directed_type, jint need_read_report, jstring extension)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call msgsendfileex");

    rcs_state *R = (void *)((intptr_t)statePtr);

    const char *c_number = (*env)->GetStringUTFChars(env, number, NULL);
	const char *c_message_id = (*env)->GetStringUTFChars(env, message_id, NULL);
	const char *c_file_path = (*env)->GetStringUTFChars(env, file_path, NULL);
	const char *c_file_name = (*env)->GetStringUTFChars(env, file_name, NULL);
	const char *c_thumbnail = (*env)->GetStringUTFChars(env, thumbnail, NULL);
	const char *c_extension = (*env)->GetStringUTFChars(env, extension, NULL);
	
    int cid = rcs_msgsendfileex(R, rcs_new_command_id(R), c_number, c_message_id, c_file_path, content_type, c_file_name, need_report, start, c_thumbnail, duration, is_burn, directed_type, need_read_report, c_extension);

    (*env)->ReleaseStringUTFChars(env, number, c_number);
	(*env)->ReleaseStringUTFChars(env, message_id, c_message_id);
	(*env)->ReleaseStringUTFChars(env, file_path, c_file_path);
	(*env)->ReleaseStringUTFChars(env, file_name, c_file_name);
	(*env)->ReleaseStringUTFChars(env, thumbnail, c_thumbnail);
	(*env)->ReleaseStringUTFChars(env, extension, c_extension);
	
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativeusersetprofile(JNIEnv *env, jclass cls, jlong statePtr, jstring nickname, jstring impresa, jstring firstname, jstring lastname, jint gender, jstring email, jstring birthday, jstring client_extra)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call usersetprofile");

    rcs_state *R = (void *)((intptr_t)statePtr);

    const char *c_nickname = (*env)->GetStringUTFChars(env, nickname, NULL);
	const char *c_impresa = (*env)->GetStringUTFChars(env, impresa, NULL);
	const char *c_firstname = (*env)->GetStringUTFChars(env, firstname, NULL);
	const char *c_lastname = (*env)->GetStringUTFChars(env, lastname, NULL);
	const char *c_email = (*env)->GetStringUTFChars(env, email, NULL);
	const char *c_birthday = (*env)->GetStringUTFChars(env, birthday, NULL);
	const char *c_client_extra = (*env)->GetStringUTFChars(env, client_extra, NULL);
	
    int cid = rcs_usersetprofile(R, rcs_new_command_id(R), c_nickname, c_impresa, c_firstname, c_lastname, gender, c_email, c_birthday, c_client_extra);

    (*env)->ReleaseStringUTFChars(env, nickname, c_nickname);
	(*env)->ReleaseStringUTFChars(env, impresa, c_impresa);
	(*env)->ReleaseStringUTFChars(env, firstname, c_firstname);
	(*env)->ReleaseStringUTFChars(env, lastname, c_lastname);
	(*env)->ReleaseStringUTFChars(env, email, c_email);
	(*env)->ReleaseStringUTFChars(env, birthday, c_birthday);
	(*env)->ReleaseStringUTFChars(env, client_extra, c_client_extra);
	
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativegetpresence(JNIEnv *env, jclass cls, jlong statePtr, jstring contact_id)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call getpresence");

    rcs_state *R = (void *)((intptr_t)statePtr);

    const char *c_contact_id = (*env)->GetStringUTFChars(env, contact_id, NULL);
	
    int cid = rcs_getpresence(R, rcs_new_command_id(R), c_contact_id);

    (*env)->ReleaseStringUTFChars(env, contact_id, c_contact_id);
	
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativemsg2shorturl(JNIEnv *env, jclass cls, jlong statePtr, jstring messageid, jint msgtype, jstring content, jstring filepath)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call msg2shorturl");

    rcs_state *R = (void *)((intptr_t)statePtr);

    const char *c_messageid = (*env)->GetStringUTFChars(env, messageid, NULL);
	const char *c_content = (*env)->GetStringUTFChars(env, content, NULL);
	const char *c_filepath = (*env)->GetStringUTFChars(env, filepath, NULL);
	
    int cid = rcs_msg2shorturl(R, rcs_new_command_id(R), c_messageid, msgtype, c_content, c_filepath);

    (*env)->ReleaseStringUTFChars(env, messageid, c_messageid);
	(*env)->ReleaseStringUTFChars(env, content, c_content);
	(*env)->ReleaseStringUTFChars(env, filepath, c_filepath);
	
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativegpcreate(JNIEnv *env, jclass cls, jlong statePtr, jstring resourcelists, jstring subject, jstring introduce, jstring bulletin, jint grouptype)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call gpcreate");

    rcs_state *R = (void *)((intptr_t)statePtr);

    const char *c_resourcelists = (*env)->GetStringUTFChars(env, resourcelists, NULL);
	const char *c_subject = (*env)->GetStringUTFChars(env, subject, NULL);
	const char *c_introduce = (*env)->GetStringUTFChars(env, introduce, NULL);
	const char *c_bulletin = (*env)->GetStringUTFChars(env, bulletin, NULL);
	
    int cid = rcs_gpcreate(R, rcs_new_command_id(R), c_resourcelists, c_subject, c_introduce, c_bulletin, grouptype);

    (*env)->ReleaseStringUTFChars(env, resourcelists, c_resourcelists);
	(*env)->ReleaseStringUTFChars(env, subject, c_subject);
	(*env)->ReleaseStringUTFChars(env, introduce, c_introduce);
	(*env)->ReleaseStringUTFChars(env, bulletin, c_bulletin);
	
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativesubpresence(JNIEnv *env, jclass cls, jlong statePtr, jstring cids)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call subpresence");

    rcs_state *R = (void *)((intptr_t)statePtr);

    const char *c_cids = (*env)->GetStringUTFChars(env, cids, NULL);
	
    int cid = rcs_subpresence(R, rcs_new_command_id(R), c_cids);

    (*env)->ReleaseStringUTFChars(env, cids, c_cids);
	
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativecapsexchange(JNIEnv *env, jclass cls, jlong statePtr, jstring user)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call capsexchange");

    rcs_state *R = (void *)((intptr_t)statePtr);

    const char *c_user = (*env)->GetStringUTFChars(env, user, NULL);
	
    int cid = rcs_capsexchange(R, rcs_new_command_id(R), c_user);

    (*env)->ReleaseStringUTFChars(env, user, c_user);
	
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativegpsublist(JNIEnv *env, jclass cls, jlong statePtr, jstring version)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call gpsublist");

    rcs_state *R = (void *)((intptr_t)statePtr);

    const char *c_version = (*env)->GetStringUTFChars(env, version, NULL);
	
    int cid = rcs_gpsublist(R, rcs_new_command_id(R), c_version);

    (*env)->ReleaseStringUTFChars(env, version, c_version);
	
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativedevicestatusget(JNIEnv *env, jclass cls, jlong statePtr, jstring uid)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call devicestatusget");

    rcs_state *R = (void *)((intptr_t)statePtr);

    const char *c_uid = (*env)->GetStringUTFChars(env, uid, NULL);
	
    int cid = rcs_devicestatusget(R, rcs_new_command_id(R), c_uid);

    (*env)->ReleaseStringUTFChars(env, uid, c_uid);
	
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativegetsharefilelist(JNIEnv *env, jclass cls, jlong statePtr, jstring target_id)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call getsharefilelist");

    rcs_state *R = (void *)((intptr_t)statePtr);

    const char *c_target_id = (*env)->GetStringUTFChars(env, target_id, NULL);
	
    int cid = rcs_getsharefilelist(R, rcs_new_command_id(R), c_target_id);

    (*env)->ReleaseStringUTFChars(env, target_id, c_target_id);
	
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativeonbell(JNIEnv *env, jclass cls, jlong statePtr, jstring name, jint timeout)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call onbell");

    rcs_state *R = (void *)((intptr_t)statePtr);

    const char *c_name = (*env)->GetStringUTFChars(env, name, NULL);
	
    int cid = rcs_onbell(R, rcs_new_command_id(R), c_name, timeout);

    (*env)->ReleaseStringUTFChars(env, name, c_name);
	
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativemsgsetconvstatus(JNIEnv *env, jclass cls, jlong statePtr, jstring conv_id, jstring msg_imdn_id, jint convstate, jint chat_type)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call msgsetconvstatus");

    rcs_state *R = (void *)((intptr_t)statePtr);

    const char *c_conv_id = (*env)->GetStringUTFChars(env, conv_id, NULL);
	const char *c_msg_imdn_id = (*env)->GetStringUTFChars(env, msg_imdn_id, NULL);
	
    int cid = rcs_msgsetconvstatus(R, rcs_new_command_id(R), c_conv_id, c_msg_imdn_id, convstate, chat_type);

    (*env)->ReleaseStringUTFChars(env, conv_id, c_conv_id);
	(*env)->ReleaseStringUTFChars(env, msg_imdn_id, c_msg_imdn_id);
	
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativesetendpointdnd(JNIEnv *env, jclass cls, jlong statePtr, jint flag, jstring begintime, jstring endtime)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call setendpointdnd");

    rcs_state *R = (void *)((intptr_t)statePtr);

    const char *c_begintime = (*env)->GetStringUTFChars(env, begintime, NULL);
	const char *c_endtime = (*env)->GetStringUTFChars(env, endtime, NULL);
	
    int cid = rcs_setendpointdnd(R, rcs_new_command_id(R), flag, c_begintime, c_endtime);

    (*env)->ReleaseStringUTFChars(env, begintime, c_begintime);
	(*env)->ReleaseStringUTFChars(env, endtime, c_endtime);
	
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativelogout(JNIEnv *env, jclass cls, jlong statePtr)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call logout");

    rcs_state *R = (void *)((intptr_t)statePtr);

    
    int cid = rcs_logout(R, rcs_new_command_id(R));

    
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativecanceltransfer(JNIEnv *env, jclass cls, jlong statePtr, jstring message_id)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call canceltransfer");

    rcs_state *R = (void *)((intptr_t)statePtr);

    const char *c_message_id = (*env)->GetStringUTFChars(env, message_id, NULL);
	
    int cid = rcs_canceltransfer(R, rcs_new_command_id(R), c_message_id);

    (*env)->ReleaseStringUTFChars(env, message_id, c_message_id);
	
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativebootendpoint(JNIEnv *env, jclass cls, jlong statePtr, jstring client_id, jint client_type, jstring client_version)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call bootendpoint");

    rcs_state *R = (void *)((intptr_t)statePtr);

    const char *c_client_id = (*env)->GetStringUTFChars(env, client_id, NULL);
	const char *c_client_version = (*env)->GetStringUTFChars(env, client_version, NULL);
	
    int cid = rcs_bootendpoint(R, rcs_new_command_id(R), c_client_id, client_type, c_client_version);

    (*env)->ReleaseStringUTFChars(env, client_id, c_client_id);
	(*env)->ReleaseStringUTFChars(env, client_version, c_client_version);
	
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativegpsubinfo(JNIEnv *env, jclass cls, jlong statePtr, jstring group_uri, jstring info_version, jstring members_version)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call gpsubinfo");

    rcs_state *R = (void *)((intptr_t)statePtr);

    const char *c_group_uri = (*env)->GetStringUTFChars(env, group_uri, NULL);
	const char *c_info_version = (*env)->GetStringUTFChars(env, info_version, NULL);
	const char *c_members_version = (*env)->GetStringUTFChars(env, members_version, NULL);
	
    int cid = rcs_gpsubinfo(R, rcs_new_command_id(R), c_group_uri, c_info_version, c_members_version);

    (*env)->ReleaseStringUTFChars(env, group_uri, c_group_uri);
	(*env)->ReleaseStringUTFChars(env, info_version, c_info_version);
	(*env)->ReleaseStringUTFChars(env, members_version, c_members_version);
	
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativegpremovemember(JNIEnv *env, jclass cls, jlong statePtr, jstring group_uri, jstring target)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call gpremovemember");

    rcs_state *R = (void *)((intptr_t)statePtr);

    const char *c_group_uri = (*env)->GetStringUTFChars(env, group_uri, NULL);
	const char *c_target = (*env)->GetStringUTFChars(env, target, NULL);
	
    int cid = rcs_gpremovemember(R, rcs_new_command_id(R), c_group_uri, c_target);

    (*env)->ReleaseStringUTFChars(env, group_uri, c_group_uri);
	(*env)->ReleaseStringUTFChars(env, target, c_target);
	
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativestop(JNIEnv *env, jclass cls, jlong statePtr)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call stop");

    rcs_state *R = (void *)((intptr_t)statePtr);

    
    int cid = rcs_stop(R, rcs_new_command_id(R));

    
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativeusergetinfo(JNIEnv *env, jclass cls, jlong statePtr, jstring ids)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call usergetinfo");

    rcs_state *R = (void *)((intptr_t)statePtr);

    const char *c_ids = (*env)->GetStringUTFChars(env, ids, NULL);
	
    int cid = rcs_usergetinfo(R, rcs_new_command_id(R), c_ids);

    (*env)->ReleaseStringUTFChars(env, ids, c_ids);
	
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativebklistget(JNIEnv *env, jclass cls, jlong statePtr)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call bklistget");

    rcs_state *R = (void *)((intptr_t)statePtr);

    
    int cid = rcs_bklistget(R, rcs_new_command_id(R));

    
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativebklistremove(JNIEnv *env, jclass cls, jlong statePtr, jstring uid)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call bklistremove");

    rcs_state *R = (void *)((intptr_t)statePtr);

    const char *c_uid = (*env)->GetStringUTFChars(env, uid, NULL);
	
    int cid = rcs_bklistremove(R, rcs_new_command_id(R), c_uid);

    (*env)->ReleaseStringUTFChars(env, uid, c_uid);
	
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativemsgsendtext(JNIEnv *env, jclass cls, jlong statePtr, jstring number, jstring message_id, jstring content, jint need_report, jint is_burn, jint directed_type, jint need_read_report, jstring extension, jint content_type)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call msgsendtext");

    rcs_state *R = (void *)((intptr_t)statePtr);

    const char *c_number = (*env)->GetStringUTFChars(env, number, NULL);
	const char *c_message_id = (*env)->GetStringUTFChars(env, message_id, NULL);
	const char *c_content = (*env)->GetStringUTFChars(env, content, NULL);
	const char *c_extension = (*env)->GetStringUTFChars(env, extension, NULL);
	
    int cid = rcs_msgsendtext(R, rcs_new_command_id(R), c_number, c_message_id, c_content, need_report, is_burn, directed_type, need_read_report, c_extension, content_type);

    (*env)->ReleaseStringUTFChars(env, number, c_number);
	(*env)->ReleaseStringUTFChars(env, message_id, c_message_id);
	(*env)->ReleaseStringUTFChars(env, content, c_content);
	(*env)->ReleaseStringUTFChars(env, extension, c_extension);
	
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativeunsubpresence(JNIEnv *env, jclass cls, jlong statePtr, jstring cids)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call unsubpresence");

    rcs_state *R = (void *)((intptr_t)statePtr);

    const char *c_cids = (*env)->GetStringUTFChars(env, cids, NULL);
	
    int cid = rcs_unsubpresence(R, rcs_new_command_id(R), c_cids);

    (*env)->ReleaseStringUTFChars(env, cids, c_cids);
	
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativegpjoin(JNIEnv *env, jclass cls, jlong statePtr, jstring group_uri, jstring inviter)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call gpjoin");

    rcs_state *R = (void *)((intptr_t)statePtr);

    const char *c_group_uri = (*env)->GetStringUTFChars(env, group_uri, NULL);
	const char *c_inviter = (*env)->GetStringUTFChars(env, inviter, NULL);
	
    int cid = rcs_gpjoin(R, rcs_new_command_id(R), c_group_uri, c_inviter);

    (*env)->ReleaseStringUTFChars(env, group_uri, c_group_uri);
	(*env)->ReleaseStringUTFChars(env, inviter, c_inviter);
	
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativemsggpsendtext(JNIEnv *env, jclass cls, jlong statePtr, jstring group_uri, jstring message_id, jstring content, jint need_report, jstring ccNumber, jint need_read_report, jstring extension, jint content_type)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call msggpsendtext");

    rcs_state *R = (void *)((intptr_t)statePtr);

    const char *c_group_uri = (*env)->GetStringUTFChars(env, group_uri, NULL);
	const char *c_message_id = (*env)->GetStringUTFChars(env, message_id, NULL);
	const char *c_content = (*env)->GetStringUTFChars(env, content, NULL);
	const char *c_ccNumber = (*env)->GetStringUTFChars(env, ccNumber, NULL);
	const char *c_extension = (*env)->GetStringUTFChars(env, extension, NULL);
	
    int cid = rcs_msggpsendtext(R, rcs_new_command_id(R), c_group_uri, c_message_id, c_content, need_report, c_ccNumber, need_read_report, c_extension, content_type);

    (*env)->ReleaseStringUTFChars(env, group_uri, c_group_uri);
	(*env)->ReleaseStringUTFChars(env, message_id, c_message_id);
	(*env)->ReleaseStringUTFChars(env, content, c_content);
	(*env)->ReleaseStringUTFChars(env, ccNumber, c_ccNumber);
	(*env)->ReleaseStringUTFChars(env, extension, c_extension);
	
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativegpsetdnd(JNIEnv *env, jclass cls, jlong statePtr, jstring group_uri, jint flag)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call gpsetdnd");

    rcs_state *R = (void *)((intptr_t)statePtr);

    const char *c_group_uri = (*env)->GetStringUTFChars(env, group_uri, NULL);
	
    int cid = rcs_gpsetdnd(R, rcs_new_command_id(R), c_group_uri, flag);

    (*env)->ReleaseStringUTFChars(env, group_uri, c_group_uri);
	
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativeprovisiondm(JNIEnv *env, jclass cls, jlong statePtr, jstring number, jstring token)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call provisiondm");

    rcs_state *R = (void *)((intptr_t)statePtr);

    const char *c_number = (*env)->GetStringUTFChars(env, number, NULL);
	const char *c_token = (*env)->GetStringUTFChars(env, token, NULL);
	
    int cid = rcs_provisiondm(R, rcs_new_command_id(R), c_number, c_token);

    (*env)->ReleaseStringUTFChars(env, number, c_number);
	(*env)->ReleaseStringUTFChars(env, token, c_token);
	
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativesetpushbadge(JNIEnv *env, jclass cls, jlong statePtr, jint badge)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call setpushbadge");

    rcs_state *R = (void *)((intptr_t)statePtr);

    
    int cid = rcs_setpushbadge(R, rcs_new_command_id(R), badge);

    
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativedeleteendpoint(JNIEnv *env, jclass cls, jlong statePtr, jstring client_id, jint client_type, jstring client_version)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call deleteendpoint");

    rcs_state *R = (void *)((intptr_t)statePtr);

    const char *c_client_id = (*env)->GetStringUTFChars(env, client_id, NULL);
	const char *c_client_version = (*env)->GetStringUTFChars(env, client_version, NULL);
	
    int cid = rcs_deleteendpoint(R, rcs_new_command_id(R), c_client_id, client_type, c_client_version);

    (*env)->ReleaseStringUTFChars(env, client_id, c_client_id);
	(*env)->ReleaseStringUTFChars(env, client_version, c_client_version);
	
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativegetendpointlist(JNIEnv *env, jclass cls, jlong statePtr)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call getendpointlist");

    rcs_state *R = (void *)((intptr_t)statePtr);

    
    int cid = rcs_getendpointlist(R, rcs_new_command_id(R));

    
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativemsggpsendfile(JNIEnv *env, jclass cls, jlong statePtr, jstring group_uri, jstring message_id, jstring file_path, jint content_type, jstring file_name, jint need_report, jint start, jstring thumbnail, jint need_read_report, jstring extension)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call msggpsendfile");

    rcs_state *R = (void *)((intptr_t)statePtr);

    const char *c_group_uri = (*env)->GetStringUTFChars(env, group_uri, NULL);
	const char *c_message_id = (*env)->GetStringUTFChars(env, message_id, NULL);
	const char *c_file_path = (*env)->GetStringUTFChars(env, file_path, NULL);
	const char *c_file_name = (*env)->GetStringUTFChars(env, file_name, NULL);
	const char *c_thumbnail = (*env)->GetStringUTFChars(env, thumbnail, NULL);
	const char *c_extension = (*env)->GetStringUTFChars(env, extension, NULL);
	
    int cid = rcs_msggpsendfile(R, rcs_new_command_id(R), c_group_uri, c_message_id, c_file_path, content_type, c_file_name, need_report, start, c_thumbnail, need_read_report, c_extension);

    (*env)->ReleaseStringUTFChars(env, group_uri, c_group_uri);
	(*env)->ReleaseStringUTFChars(env, message_id, c_message_id);
	(*env)->ReleaseStringUTFChars(env, file_path, c_file_path);
	(*env)->ReleaseStringUTFChars(env, file_name, c_file_name);
	(*env)->ReleaseStringUTFChars(env, thumbnail, c_thumbnail);
	(*env)->ReleaseStringUTFChars(env, extension, c_extension);
	
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativesetpush(JNIEnv *env, jclass cls, jlong statePtr, jstring token, jint server_type, jint show_preview)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call setpush");

    rcs_state *R = (void *)((intptr_t)statePtr);

    const char *c_token = (*env)->GetStringUTFChars(env, token, NULL);
	
    int cid = rcs_setpush(R, rcs_new_command_id(R), c_token, server_type, show_preview);

    (*env)->ReleaseStringUTFChars(env, token, c_token);
	
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativebuddyhandle(JNIEnv *env, jclass cls, jlong statePtr, jint userId, jint accept, jstring reason)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call buddyhandle");

    rcs_state *R = (void *)((intptr_t)statePtr);

    const char *c_reason = (*env)->GetStringUTFChars(env, reason, NULL);
	
    int cid = rcs_buddyhandle(R, rcs_new_command_id(R), userId, accept, c_reason);

    (*env)->ReleaseStringUTFChars(env, reason, c_reason);
	
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativegpchangemanager(JNIEnv *env, jclass cls, jlong statePtr, jstring group_uri, jstring target)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call gpchangemanager");

    rcs_state *R = (void *)((intptr_t)statePtr);

    const char *c_group_uri = (*env)->GetStringUTFChars(env, group_uri, NULL);
	const char *c_target = (*env)->GetStringUTFChars(env, target, NULL);
	
    int cid = rcs_gpchangemanager(R, rcs_new_command_id(R), c_group_uri, c_target);

    (*env)->ReleaseStringUTFChars(env, group_uri, c_group_uri);
	(*env)->ReleaseStringUTFChars(env, target, c_target);
	
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativedoconnect(JNIEnv *env, jclass cls, jlong statePtr, jint disconnect)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call doconnect");

    rcs_state *R = (void *)((intptr_t)statePtr);

    
    int cid = rcs_doconnect(R, rcs_new_command_id(R), disconnect);

    
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativegpshareinfo(JNIEnv *env, jclass cls, jlong statePtr, jstring group_uri)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call gpshareinfo");

    rcs_state *R = (void *)((intptr_t)statePtr);

    const char *c_group_uri = (*env)->GetStringUTFChars(env, group_uri, NULL);
	
    int cid = rcs_gpshareinfo(R, rcs_new_command_id(R), c_group_uri);

    (*env)->ReleaseStringUTFChars(env, group_uri, c_group_uri);
	
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativebuddydnd(JNIEnv *env, jclass cls, jlong statePtr, jint userId, jint dnd_flag)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call buddydnd");

    rcs_state *R = (void *)((intptr_t)statePtr);

    
    int cid = rcs_buddydnd(R, rcs_new_command_id(R), userId, dnd_flag);

    
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativebuddymemo(JNIEnv *env, jclass cls, jlong statePtr, jint userId, jstring memo)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call buddymemo");

    rcs_state *R = (void *)((intptr_t)statePtr);

    const char *c_memo = (*env)->GetStringUTFChars(env, memo, NULL);
	
    int cid = rcs_buddymemo(R, rcs_new_command_id(R), userId, c_memo);

    (*env)->ReleaseStringUTFChars(env, memo, c_memo);
	
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativebuddyadd(JNIEnv *env, jclass cls, jlong statePtr, jstring user, jstring reason)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call buddyadd");

    rcs_state *R = (void *)((intptr_t)statePtr);

    const char *c_user = (*env)->GetStringUTFChars(env, user, NULL);
	const char *c_reason = (*env)->GetStringUTFChars(env, reason, NULL);
	
    int cid = rcs_buddyadd(R, rcs_new_command_id(R), c_user, c_reason);

    (*env)->ReleaseStringUTFChars(env, user, c_user);
	(*env)->ReleaseStringUTFChars(env, reason, c_reason);
	
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativeusersetportrait(JNIEnv *env, jclass cls, jlong statePtr, jstring file_path)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call usersetportrait");

    rcs_state *R = (void *)((intptr_t)statePtr);

    const char *c_file_path = (*env)->GetStringUTFChars(env, file_path, NULL);
	
    int cid = rcs_usersetportrait(R, rcs_new_command_id(R), c_file_path);

    (*env)->ReleaseStringUTFChars(env, file_path, c_file_path);
	
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativeusersetpermissionunameflag(JNIEnv *env, jclass cls, jlong statePtr, jint unameflag)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call usersetpermissionunameflag");

    rcs_state *R = (void *)((intptr_t)statePtr);

    
    int cid = rcs_usersetpermissionunameflag(R, rcs_new_command_id(R), unameflag);

    
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativegpapply(JNIEnv *env, jclass cls, jlong statePtr, jstring group_uri, jstring remark)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call gpapply");

    rcs_state *R = (void *)((intptr_t)statePtr);

    const char *c_group_uri = (*env)->GetStringUTFChars(env, group_uri, NULL);
	const char *c_remark = (*env)->GetStringUTFChars(env, remark, NULL);
	
    int cid = rcs_gpapply(R, rcs_new_command_id(R), c_group_uri, c_remark);

    (*env)->ReleaseStringUTFChars(env, group_uri, c_group_uri);
	(*env)->ReleaseStringUTFChars(env, remark, c_remark);
	
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativegpmodifyinviteflag(JNIEnv *env, jclass cls, jlong statePtr, jstring group_uri, jint flag)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call gpmodifyinviteflag");

    rcs_state *R = (void *)((intptr_t)statePtr);

    const char *c_group_uri = (*env)->GetStringUTFChars(env, group_uri, NULL);
	
    int cid = rcs_gpmodifyinviteflag(R, rcs_new_command_id(R), c_group_uri, flag);

    (*env)->ReleaseStringUTFChars(env, group_uri, c_group_uri);
	
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativegetfileid(JNIEnv *env, jclass cls, jlong statePtr, jstring filename)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call getfileid");

    rcs_state *R = (void *)((intptr_t)statePtr);

    const char *c_filename = (*env)->GetStringUTFChars(env, filename, NULL);
	
    int cid = rcs_getfileid(R, rcs_new_command_id(R), c_filename);

    (*env)->ReleaseStringUTFChars(env, filename, c_filename);
	
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativeprovisionotp(JNIEnv *env, jclass cls, jlong statePtr, jstring smscode, jstring username, jstring otp, jstring sessid)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call provisionotp");

    rcs_state *R = (void *)((intptr_t)statePtr);

    const char *c_smscode = (*env)->GetStringUTFChars(env, smscode, NULL);
	const char *c_username = (*env)->GetStringUTFChars(env, username, NULL);
	const char *c_otp = (*env)->GetStringUTFChars(env, otp, NULL);
	const char *c_sessid = (*env)->GetStringUTFChars(env, sessid, NULL);
	
    int cid = rcs_provisionotp(R, rcs_new_command_id(R), c_smscode, c_username, c_otp, c_sessid);

    (*env)->ReleaseStringUTFChars(env, smscode, c_smscode);
	(*env)->ReleaseStringUTFChars(env, username, c_username);
	(*env)->ReleaseStringUTFChars(env, otp, c_otp);
	(*env)->ReleaseStringUTFChars(env, sessid, c_sessid);
	
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativedevicelistget(JNIEnv *env, jclass cls, jlong statePtr)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call devicelistget");

    rcs_state *R = (void *)((intptr_t)statePtr);

    
    int cid = rcs_devicelistget(R, rcs_new_command_id(R));

    
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativedeletesharefile(JNIEnv *env, jclass cls, jlong statePtr, jstring target_id, jstring file_id, jstring share_file_id)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call deletesharefile");

    rcs_state *R = (void *)((intptr_t)statePtr);

    const char *c_target_id = (*env)->GetStringUTFChars(env, target_id, NULL);
	const char *c_file_id = (*env)->GetStringUTFChars(env, file_id, NULL);
	const char *c_share_file_id = (*env)->GetStringUTFChars(env, share_file_id, NULL);
	
    int cid = rcs_deletesharefile(R, rcs_new_command_id(R), c_target_id, c_file_id, c_share_file_id);

    (*env)->ReleaseStringUTFChars(env, target_id, c_target_id);
	(*env)->ReleaseStringUTFChars(env, file_id, c_file_id);
	(*env)->ReleaseStringUTFChars(env, share_file_id, c_share_file_id);
	
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativeuploadsharefile(JNIEnv *env, jclass cls, jlong statePtr, jstring target_id, jstring message_id, jstring file_path, jstring file_name, jint expire)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call uploadsharefile");

    rcs_state *R = (void *)((intptr_t)statePtr);

    const char *c_target_id = (*env)->GetStringUTFChars(env, target_id, NULL);
	const char *c_message_id = (*env)->GetStringUTFChars(env, message_id, NULL);
	const char *c_file_path = (*env)->GetStringUTFChars(env, file_path, NULL);
	const char *c_file_name = (*env)->GetStringUTFChars(env, file_name, NULL);
	
    int cid = rcs_uploadsharefile(R, rcs_new_command_id(R), c_target_id, c_message_id, c_file_path, c_file_name, expire);

    (*env)->ReleaseStringUTFChars(env, target_id, c_target_id);
	(*env)->ReleaseStringUTFChars(env, message_id, c_message_id);
	(*env)->ReleaseStringUTFChars(env, file_path, c_file_path);
	(*env)->ReleaseStringUTFChars(env, file_name, c_file_name);
	
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativetoken(JNIEnv *env, jclass cls, jlong statePtr)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call token");

    rcs_state *R = (void *)((intptr_t)statePtr);

    
    int cid = rcs_token(R, rcs_new_command_id(R));

    
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativemsgsetstatus(JNIEnv *env, jclass cls, jlong statePtr, jstring number, jstring msg_imdn_id, jint msgstate, jint chat_type)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call msgsetstatus");

    rcs_state *R = (void *)((intptr_t)statePtr);

    const char *c_number = (*env)->GetStringUTFChars(env, number, NULL);
	const char *c_msg_imdn_id = (*env)->GetStringUTFChars(env, msg_imdn_id, NULL);
	
    int cid = rcs_msgsetstatus(R, rcs_new_command_id(R), c_number, c_msg_imdn_id, msgstate, chat_type);

    (*env)->ReleaseStringUTFChars(env, number, c_number);
	(*env)->ReleaseStringUTFChars(env, msg_imdn_id, c_msg_imdn_id);
	
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativegpmodifyintroduce(JNIEnv *env, jclass cls, jlong statePtr, jstring group_uri, jstring introduce)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call gpmodifyintroduce");

    rcs_state *R = (void *)((intptr_t)statePtr);

    const char *c_group_uri = (*env)->GetStringUTFChars(env, group_uri, NULL);
	const char *c_introduce = (*env)->GetStringUTFChars(env, introduce, NULL);
	
    int cid = rcs_gpmodifyintroduce(R, rcs_new_command_id(R), c_group_uri, c_introduce);

    (*env)->ReleaseStringUTFChars(env, group_uri, c_group_uri);
	(*env)->ReleaseStringUTFChars(env, introduce, c_introduce);
	
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativesuspend(JNIEnv *env, jclass cls, jlong statePtr)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call suspend");

    rcs_state *R = (void *)((intptr_t)statePtr);

    
    int cid = rcs_suspend(R, rcs_new_command_id(R));

    
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativegpmodifyextra(JNIEnv *env, jclass cls, jlong statePtr, jstring group_uri, jstring extra)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call gpmodifyextra");

    rcs_state *R = (void *)((intptr_t)statePtr);

    const char *c_group_uri = (*env)->GetStringUTFChars(env, group_uri, NULL);
	const char *c_extra = (*env)->GetStringUTFChars(env, extra, NULL);
	
    int cid = rcs_gpmodifyextra(R, rcs_new_command_id(R), c_group_uri, c_extra);

    (*env)->ReleaseStringUTFChars(env, group_uri, c_group_uri);
	(*env)->ReleaseStringUTFChars(env, extra, c_extra);
	
    return cid;
}

JNIEXPORT jint JNICALL Java_com_interrcs_sdk_RcsApi_nativeprovisioniot(JNIEnv *env, jclass cls, jlong statePtr, jstring username, jstring pwd)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","call provisioniot");

    rcs_state *R = (void *)((intptr_t)statePtr);

    const char *c_username = (*env)->GetStringUTFChars(env, username, NULL);
	const char *c_pwd = (*env)->GetStringUTFChars(env, pwd, NULL);
	
    int cid = rcs_provisioniot(R, rcs_new_command_id(R), c_username, c_pwd);

    (*env)->ReleaseStringUTFChars(env, username, c_username);
	(*env)->ReleaseStringUTFChars(env, pwd, c_pwd);
	
    return cid;
}

void user_portrait_callback(rcs_state* R, const char *json)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","user_portrait_callback");

    JNIEnv *env;
    (*gJavaVM)->AttachCurrentThread(gJavaVM, &env, NULL);

    jmethodID method = (*env)->GetStaticMethodID(env,jCls,"dispatchCallback","(JLjava/lang/String;Ljava/lang/String;)V");

    if (method == NULL) {
        return;
    }

    jstring str_func = (*env)->NewStringUTF(env, "user_portrait");
    jstring str_arg = (*env)->NewStringUTF(env, json);
    (*env)->CallStaticVoidMethod(env,jCls,method, (jlong)(intptr_t)R, str_func, str_arg);

    (*env)->DeleteLocalRef(env,str_func);
    (*env)->DeleteLocalRef(env,str_arg);

    (*gJavaVM)->DetachCurrentThread(gJavaVM);
}

void uploadsf_callback(rcs_state* R, const char *json)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","uploadsf_callback");

    JNIEnv *env;
    (*gJavaVM)->AttachCurrentThread(gJavaVM, &env, NULL);

    jmethodID method = (*env)->GetStaticMethodID(env,jCls,"dispatchCallback","(JLjava/lang/String;Ljava/lang/String;)V");

    if (method == NULL) {
        return;
    }

    jstring str_func = (*env)->NewStringUTF(env, "uploadsf");
    jstring str_arg = (*env)->NewStringUTF(env, json);
    (*env)->CallStaticVoidMethod(env,jCls,method, (jlong)(intptr_t)R, str_func, str_arg);

    (*env)->DeleteLocalRef(env,str_func);
    (*env)->DeleteLocalRef(env,str_arg);

    (*gJavaVM)->DetachCurrentThread(gJavaVM);
}

void presence_callback_callback(rcs_state* R, const char *json)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","presence_callback_callback");

    JNIEnv *env;
    (*gJavaVM)->AttachCurrentThread(gJavaVM, &env, NULL);

    jmethodID method = (*env)->GetStaticMethodID(env,jCls,"dispatchCallback","(JLjava/lang/String;Ljava/lang/String;)V");

    if (method == NULL) {
        return;
    }

    jstring str_func = (*env)->NewStringUTF(env, "presence_callback");
    jstring str_arg = (*env)->NewStringUTF(env, json);
    (*env)->CallStaticVoidMethod(env,jCls,method, (jlong)(intptr_t)R, str_func, str_arg);

    (*env)->DeleteLocalRef(env,str_func);
    (*env)->DeleteLocalRef(env,str_arg);

    (*gJavaVM)->DetachCurrentThread(gJavaVM);
}

void buddy_callback(rcs_state* R, const char *json)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","buddy_callback");

    JNIEnv *env;
    (*gJavaVM)->AttachCurrentThread(gJavaVM, &env, NULL);

    jmethodID method = (*env)->GetStaticMethodID(env,jCls,"dispatchCallback","(JLjava/lang/String;Ljava/lang/String;)V");

    if (method == NULL) {
        return;
    }

    jstring str_func = (*env)->NewStringUTF(env, "buddy");
    jstring str_arg = (*env)->NewStringUTF(env, json);
    (*env)->CallStaticVoidMethod(env,jCls,method, (jlong)(intptr_t)R, str_func, str_arg);

    (*env)->DeleteLocalRef(env,str_func);
    (*env)->DeleteLocalRef(env,str_arg);

    (*gJavaVM)->DetachCurrentThread(gJavaVM);
}

void endpoint_callback(rcs_state* R, const char *json)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","endpoint_callback");

    JNIEnv *env;
    (*gJavaVM)->AttachCurrentThread(gJavaVM, &env, NULL);

    jmethodID method = (*env)->GetStaticMethodID(env,jCls,"dispatchCallback","(JLjava/lang/String;Ljava/lang/String;)V");

    if (method == NULL) {
        return;
    }

    jstring str_func = (*env)->NewStringUTF(env, "endpoint");
    jstring str_arg = (*env)->NewStringUTF(env, json);
    (*env)->CallStaticVoidMethod(env,jCls,method, (jlong)(intptr_t)R, str_func, str_arg);

    (*env)->DeleteLocalRef(env,str_func);
    (*env)->DeleteLocalRef(env,str_arg);

    (*gJavaVM)->DetachCurrentThread(gJavaVM);
}

void getpresence_callback(rcs_state* R, const char *json)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","getpresence_callback");

    JNIEnv *env;
    (*gJavaVM)->AttachCurrentThread(gJavaVM, &env, NULL);

    jmethodID method = (*env)->GetStaticMethodID(env,jCls,"dispatchCallback","(JLjava/lang/String;Ljava/lang/String;)V");

    if (method == NULL) {
        return;
    }

    jstring str_func = (*env)->NewStringUTF(env, "getpresence");
    jstring str_arg = (*env)->NewStringUTF(env, json);
    (*env)->CallStaticVoidMethod(env,jCls,method, (jlong)(intptr_t)R, str_func, str_arg);

    (*env)->DeleteLocalRef(env,str_func);
    (*env)->DeleteLocalRef(env,str_arg);

    (*gJavaVM)->DetachCurrentThread(gJavaVM);
}

void cap_callback(rcs_state* R, const char *json)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","cap_callback");

    JNIEnv *env;
    (*gJavaVM)->AttachCurrentThread(gJavaVM, &env, NULL);

    jmethodID method = (*env)->GetStaticMethodID(env,jCls,"dispatchCallback","(JLjava/lang/String;Ljava/lang/String;)V");

    if (method == NULL) {
        return;
    }

    jstring str_func = (*env)->NewStringUTF(env, "cap");
    jstring str_arg = (*env)->NewStringUTF(env, json);
    (*env)->CallStaticVoidMethod(env,jCls,method, (jlong)(intptr_t)R, str_func, str_arg);

    (*env)->DeleteLocalRef(env,str_func);
    (*env)->DeleteLocalRef(env,str_arg);

    (*gJavaVM)->DetachCurrentThread(gJavaVM);
}

void bklistremove_callback(rcs_state* R, const char *json)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","bklistremove_callback");

    JNIEnv *env;
    (*gJavaVM)->AttachCurrentThread(gJavaVM, &env, NULL);

    jmethodID method = (*env)->GetStaticMethodID(env,jCls,"dispatchCallback","(JLjava/lang/String;Ljava/lang/String;)V");

    if (method == NULL) {
        return;
    }

    jstring str_func = (*env)->NewStringUTF(env, "bklistremove");
    jstring str_arg = (*env)->NewStringUTF(env, json);
    (*env)->CallStaticVoidMethod(env,jCls,method, (jlong)(intptr_t)R, str_func, str_arg);

    (*env)->DeleteLocalRef(env,str_func);
    (*env)->DeleteLocalRef(env,str_arg);

    (*gJavaVM)->DetachCurrentThread(gJavaVM);
}

void user_buddyflag_callback(rcs_state* R, const char *json)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","user_buddyflag_callback");

    JNIEnv *env;
    (*gJavaVM)->AttachCurrentThread(gJavaVM, &env, NULL);

    jmethodID method = (*env)->GetStaticMethodID(env,jCls,"dispatchCallback","(JLjava/lang/String;Ljava/lang/String;)V");

    if (method == NULL) {
        return;
    }

    jstring str_func = (*env)->NewStringUTF(env, "user_buddyflag");
    jstring str_arg = (*env)->NewStringUTF(env, json);
    (*env)->CallStaticVoidMethod(env,jCls,method, (jlong)(intptr_t)R, str_func, str_arg);

    (*env)->DeleteLocalRef(env,str_func);
    (*env)->DeleteLocalRef(env,str_arg);

    (*gJavaVM)->DetachCurrentThread(gJavaVM);
}

void bklistget_callback(rcs_state* R, const char *json)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","bklistget_callback");

    JNIEnv *env;
    (*gJavaVM)->AttachCurrentThread(gJavaVM, &env, NULL);

    jmethodID method = (*env)->GetStaticMethodID(env,jCls,"dispatchCallback","(JLjava/lang/String;Ljava/lang/String;)V");

    if (method == NULL) {
        return;
    }

    jstring str_func = (*env)->NewStringUTF(env, "bklistget");
    jstring str_arg = (*env)->NewStringUTF(env, json);
    (*env)->CallStaticVoidMethod(env,jCls,method, (jlong)(intptr_t)R, str_func, str_arg);

    (*env)->DeleteLocalRef(env,str_func);
    (*env)->DeleteLocalRef(env,str_arg);

    (*gJavaVM)->DetachCurrentThread(gJavaVM);
}

void provision_callback(rcs_state* R, const char *json)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","provision_callback");

    JNIEnv *env;
    (*gJavaVM)->AttachCurrentThread(gJavaVM, &env, NULL);

    jmethodID method = (*env)->GetStaticMethodID(env,jCls,"dispatchCallback","(JLjava/lang/String;Ljava/lang/String;)V");

    if (method == NULL) {
        return;
    }

    jstring str_func = (*env)->NewStringUTF(env, "provision");
    jstring str_arg = (*env)->NewStringUTF(env, json);
    (*env)->CallStaticVoidMethod(env,jCls,method, (jlong)(intptr_t)R, str_func, str_arg);

    (*env)->DeleteLocalRef(env,str_func);
    (*env)->DeleteLocalRef(env,str_arg);

    (*gJavaVM)->DetachCurrentThread(gJavaVM);
}

void msg2shorturl_callback(rcs_state* R, const char *json)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","msg2shorturl_callback");

    JNIEnv *env;
    (*gJavaVM)->AttachCurrentThread(gJavaVM, &env, NULL);

    jmethodID method = (*env)->GetStaticMethodID(env,jCls,"dispatchCallback","(JLjava/lang/String;Ljava/lang/String;)V");

    if (method == NULL) {
        return;
    }

    jstring str_func = (*env)->NewStringUTF(env, "msg2shorturl");
    jstring str_arg = (*env)->NewStringUTF(env, json);
    (*env)->CallStaticVoidMethod(env,jCls,method, (jlong)(intptr_t)R, str_func, str_arg);

    (*env)->DeleteLocalRef(env,str_func);
    (*env)->DeleteLocalRef(env,str_arg);

    (*gJavaVM)->DetachCurrentThread(gJavaVM);
}

void devicestatusget_callback(rcs_state* R, const char *json)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","devicestatusget_callback");

    JNIEnv *env;
    (*gJavaVM)->AttachCurrentThread(gJavaVM, &env, NULL);

    jmethodID method = (*env)->GetStaticMethodID(env,jCls,"dispatchCallback","(JLjava/lang/String;Ljava/lang/String;)V");

    if (method == NULL) {
        return;
    }

    jstring str_func = (*env)->NewStringUTF(env, "devicestatusget");
    jstring str_arg = (*env)->NewStringUTF(env, json);
    (*env)->CallStaticVoidMethod(env,jCls,method, (jlong)(intptr_t)R, str_func, str_arg);

    (*env)->DeleteLocalRef(env,str_func);
    (*env)->DeleteLocalRef(env,str_arg);

    (*gJavaVM)->DetachCurrentThread(gJavaVM);
}

void message_callback(rcs_state* R, const char *json)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","message_callback");

    JNIEnv *env;
    (*gJavaVM)->AttachCurrentThread(gJavaVM, &env, NULL);

    jmethodID method = (*env)->GetStaticMethodID(env,jCls,"dispatchCallback","(JLjava/lang/String;Ljava/lang/String;)V");

    if (method == NULL) {
        return;
    }

    jstring str_func = (*env)->NewStringUTF(env, "message");
    jstring str_arg = (*env)->NewStringUTF(env, json);
    (*env)->CallStaticVoidMethod(env,jCls,method, (jlong)(intptr_t)R, str_func, str_arg);

    (*env)->DeleteLocalRef(env,str_func);
    (*env)->DeleteLocalRef(env,str_arg);

    (*gJavaVM)->DetachCurrentThread(gJavaVM);
}

void convlist_callback(rcs_state* R, const char *json)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","convlist_callback");

    JNIEnv *env;
    (*gJavaVM)->AttachCurrentThread(gJavaVM, &env, NULL);

    jmethodID method = (*env)->GetStaticMethodID(env,jCls,"dispatchCallback","(JLjava/lang/String;Ljava/lang/String;)V");

    if (method == NULL) {
        return;
    }

    jstring str_func = (*env)->NewStringUTF(env, "convlist");
    jstring str_arg = (*env)->NewStringUTF(env, json);
    (*env)->CallStaticVoidMethod(env,jCls,method, (jlong)(intptr_t)R, str_func, str_arg);

    (*env)->DeleteLocalRef(env,str_func);
    (*env)->DeleteLocalRef(env,str_arg);

    (*gJavaVM)->DetachCurrentThread(gJavaVM);
}

void epdnd_callback(rcs_state* R, const char *json)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","epdnd_callback");

    JNIEnv *env;
    (*gJavaVM)->AttachCurrentThread(gJavaVM, &env, NULL);

    jmethodID method = (*env)->GetStaticMethodID(env,jCls,"dispatchCallback","(JLjava/lang/String;Ljava/lang/String;)V");

    if (method == NULL) {
        return;
    }

    jstring str_func = (*env)->NewStringUTF(env, "epdnd");
    jstring str_arg = (*env)->NewStringUTF(env, json);
    (*env)->CallStaticVoidMethod(env,jCls,method, (jlong)(intptr_t)R, str_func, str_arg);

    (*env)->DeleteLocalRef(env,str_func);
    (*env)->DeleteLocalRef(env,str_arg);

    (*gJavaVM)->DetachCurrentThread(gJavaVM);
}

void user_dndflag_callback(rcs_state* R, const char *json)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","user_dndflag_callback");

    JNIEnv *env;
    (*gJavaVM)->AttachCurrentThread(gJavaVM, &env, NULL);

    jmethodID method = (*env)->GetStaticMethodID(env,jCls,"dispatchCallback","(JLjava/lang/String;Ljava/lang/String;)V");

    if (method == NULL) {
        return;
    }

    jstring str_func = (*env)->NewStringUTF(env, "user_dndflag");
    jstring str_arg = (*env)->NewStringUTF(env, json);
    (*env)->CallStaticVoidMethod(env,jCls,method, (jlong)(intptr_t)R, str_func, str_arg);

    (*env)->DeleteLocalRef(env,str_func);
    (*env)->DeleteLocalRef(env,str_arg);

    (*gJavaVM)->DetachCurrentThread(gJavaVM);
}

void action_callback(rcs_state* R, const char *json)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","action_callback");

    JNIEnv *env;
    (*gJavaVM)->AttachCurrentThread(gJavaVM, &env, NULL);

    jmethodID method = (*env)->GetStaticMethodID(env,jCls,"dispatchCallback","(JLjava/lang/String;Ljava/lang/String;)V");

    if (method == NULL) {
        return;
    }

    jstring str_func = (*env)->NewStringUTF(env, "action");
    jstring str_arg = (*env)->NewStringUTF(env, json);
    (*env)->CallStaticVoidMethod(env,jCls,method, (jlong)(intptr_t)R, str_func, str_arg);

    (*env)->DeleteLocalRef(env,str_func);
    (*env)->DeleteLocalRef(env,str_arg);

    (*gJavaVM)->DetachCurrentThread(gJavaVM);
}

void group_callback(rcs_state* R, const char *json)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","group_callback");

    JNIEnv *env;
    (*gJavaVM)->AttachCurrentThread(gJavaVM, &env, NULL);

    jmethodID method = (*env)->GetStaticMethodID(env,jCls,"dispatchCallback","(JLjava/lang/String;Ljava/lang/String;)V");

    if (method == NULL) {
        return;
    }

    jstring str_func = (*env)->NewStringUTF(env, "group");
    jstring str_arg = (*env)->NewStringUTF(env, json);
    (*env)->CallStaticVoidMethod(env,jCls,method, (jlong)(intptr_t)R, str_func, str_arg);

    (*env)->DeleteLocalRef(env,str_func);
    (*env)->DeleteLocalRef(env,str_arg);

    (*gJavaVM)->DetachCurrentThread(gJavaVM);
}

void avcall_callback(rcs_state* R, const char *json)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","avcall_callback");

    JNIEnv *env;
    (*gJavaVM)->AttachCurrentThread(gJavaVM, &env, NULL);

    jmethodID method = (*env)->GetStaticMethodID(env,jCls,"dispatchCallback","(JLjava/lang/String;Ljava/lang/String;)V");

    if (method == NULL) {
        return;
    }

    jstring str_func = (*env)->NewStringUTF(env, "avcall");
    jstring str_arg = (*env)->NewStringUTF(env, json);
    (*env)->CallStaticVoidMethod(env,jCls,method, (jlong)(intptr_t)R, str_func, str_arg);

    (*env)->DeleteLocalRef(env,str_func);
    (*env)->DeleteLocalRef(env,str_arg);

    (*gJavaVM)->DetachCurrentThread(gJavaVM);
}

void shareinfo_callback(rcs_state* R, const char *json)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","shareinfo_callback");

    JNIEnv *env;
    (*gJavaVM)->AttachCurrentThread(gJavaVM, &env, NULL);

    jmethodID method = (*env)->GetStaticMethodID(env,jCls,"dispatchCallback","(JLjava/lang/String;Ljava/lang/String;)V");

    if (method == NULL) {
        return;
    }

    jstring str_func = (*env)->NewStringUTF(env, "shareinfo");
    jstring str_arg = (*env)->NewStringUTF(env, json);
    (*env)->CallStaticVoidMethod(env,jCls,method, (jlong)(intptr_t)R, str_func, str_arg);

    (*env)->DeleteLocalRef(env,str_func);
    (*env)->DeleteLocalRef(env,str_arg);

    (*gJavaVM)->DetachCurrentThread(gJavaVM);
}

void login_callback(rcs_state* R, const char *json)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","login_callback");

    JNIEnv *env;
    (*gJavaVM)->AttachCurrentThread(gJavaVM, &env, NULL);

    jmethodID method = (*env)->GetStaticMethodID(env,jCls,"dispatchCallback","(JLjava/lang/String;Ljava/lang/String;)V");

    if (method == NULL) {
        return;
    }

    jstring str_func = (*env)->NewStringUTF(env, "login");
    jstring str_arg = (*env)->NewStringUTF(env, json);
    (*env)->CallStaticVoidMethod(env,jCls,method, (jlong)(intptr_t)R, str_func, str_arg);

    (*env)->DeleteLocalRef(env,str_func);
    (*env)->DeleteLocalRef(env,str_arg);

    (*gJavaVM)->DetachCurrentThread(gJavaVM);
}

void getsms_callback(rcs_state* R, const char *json)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","getsms_callback");

    JNIEnv *env;
    (*gJavaVM)->AttachCurrentThread(gJavaVM, &env, NULL);

    jmethodID method = (*env)->GetStaticMethodID(env,jCls,"dispatchCallback","(JLjava/lang/String;Ljava/lang/String;)V");

    if (method == NULL) {
        return;
    }

    jstring str_func = (*env)->NewStringUTF(env, "getsms");
    jstring str_arg = (*env)->NewStringUTF(env, json);
    (*env)->CallStaticVoidMethod(env,jCls,method, (jlong)(intptr_t)R, str_func, str_arg);

    (*env)->DeleteLocalRef(env,str_func);
    (*env)->DeleteLocalRef(env,str_arg);

    (*gJavaVM)->DetachCurrentThread(gJavaVM);
}

void msgset_callback(rcs_state* R, const char *json)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","msgset_callback");

    JNIEnv *env;
    (*gJavaVM)->AttachCurrentThread(gJavaVM, &env, NULL);

    jmethodID method = (*env)->GetStaticMethodID(env,jCls,"dispatchCallback","(JLjava/lang/String;Ljava/lang/String;)V");

    if (method == NULL) {
        return;
    }

    jstring str_func = (*env)->NewStringUTF(env, "msgset");
    jstring str_arg = (*env)->NewStringUTF(env, json);
    (*env)->CallStaticVoidMethod(env,jCls,method, (jlong)(intptr_t)R, str_func, str_arg);

    (*env)->DeleteLocalRef(env,str_func);
    (*env)->DeleteLocalRef(env,str_arg);

    (*gJavaVM)->DetachCurrentThread(gJavaVM);
}

void user_state_callback(rcs_state* R, const char *json)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","user_state_callback");

    JNIEnv *env;
    (*gJavaVM)->AttachCurrentThread(gJavaVM, &env, NULL);

    jmethodID method = (*env)->GetStaticMethodID(env,jCls,"dispatchCallback","(JLjava/lang/String;Ljava/lang/String;)V");

    if (method == NULL) {
        return;
    }

    jstring str_func = (*env)->NewStringUTF(env, "user_state");
    jstring str_arg = (*env)->NewStringUTF(env, json);
    (*env)->CallStaticVoidMethod(env,jCls,method, (jlong)(intptr_t)R, str_func, str_arg);

    (*env)->DeleteLocalRef(env,str_func);
    (*env)->DeleteLocalRef(env,str_arg);

    (*gJavaVM)->DetachCurrentThread(gJavaVM);
}

void deletesf_callback(rcs_state* R, const char *json)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","deletesf_callback");

    JNIEnv *env;
    (*gJavaVM)->AttachCurrentThread(gJavaVM, &env, NULL);

    jmethodID method = (*env)->GetStaticMethodID(env,jCls,"dispatchCallback","(JLjava/lang/String;Ljava/lang/String;)V");

    if (method == NULL) {
        return;
    }

    jstring str_func = (*env)->NewStringUTF(env, "deletesf");
    jstring str_arg = (*env)->NewStringUTF(env, json);
    (*env)->CallStaticVoidMethod(env,jCls,method, (jlong)(intptr_t)R, str_func, str_arg);

    (*env)->DeleteLocalRef(env,str_func);
    (*env)->DeleteLocalRef(env,str_arg);

    (*gJavaVM)->DetachCurrentThread(gJavaVM);
}

void deviceremove_callback(rcs_state* R, const char *json)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","deviceremove_callback");

    JNIEnv *env;
    (*gJavaVM)->AttachCurrentThread(gJavaVM, &env, NULL);

    jmethodID method = (*env)->GetStaticMethodID(env,jCls,"dispatchCallback","(JLjava/lang/String;Ljava/lang/String;)V");

    if (method == NULL) {
        return;
    }

    jstring str_func = (*env)->NewStringUTF(env, "deviceremove");
    jstring str_arg = (*env)->NewStringUTF(env, json);
    (*env)->CallStaticVoidMethod(env,jCls,method, (jlong)(intptr_t)R, str_func, str_arg);

    (*env)->DeleteLocalRef(env,str_func);
    (*env)->DeleteLocalRef(env,str_arg);

    (*gJavaVM)->DetachCurrentThread(gJavaVM);
}

void deviceadd_callback(rcs_state* R, const char *json)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","deviceadd_callback");

    JNIEnv *env;
    (*gJavaVM)->AttachCurrentThread(gJavaVM, &env, NULL);

    jmethodID method = (*env)->GetStaticMethodID(env,jCls,"dispatchCallback","(JLjava/lang/String;Ljava/lang/String;)V");

    if (method == NULL) {
        return;
    }

    jstring str_func = (*env)->NewStringUTF(env, "deviceadd");
    jstring str_arg = (*env)->NewStringUTF(env, json);
    (*env)->CallStaticVoidMethod(env,jCls,method, (jlong)(intptr_t)R, str_func, str_arg);

    (*env)->DeleteLocalRef(env,str_func);
    (*env)->DeleteLocalRef(env,str_arg);

    (*gJavaVM)->DetachCurrentThread(gJavaVM);
}

void notifyread_callback(rcs_state* R, const char *json)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","notifyread_callback");

    JNIEnv *env;
    (*gJavaVM)->AttachCurrentThread(gJavaVM, &env, NULL);

    jmethodID method = (*env)->GetStaticMethodID(env,jCls,"dispatchCallback","(JLjava/lang/String;Ljava/lang/String;)V");

    if (method == NULL) {
        return;
    }

    jstring str_func = (*env)->NewStringUTF(env, "notifyread");
    jstring str_arg = (*env)->NewStringUTF(env, json);
    (*env)->CallStaticVoidMethod(env,jCls,method, (jlong)(intptr_t)R, str_func, str_arg);

    (*env)->DeleteLocalRef(env,str_func);
    (*env)->DeleteLocalRef(env,str_arg);

    (*gJavaVM)->DetachCurrentThread(gJavaVM);
}

void endpointlist_callback(rcs_state* R, const char *json)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","endpointlist_callback");

    JNIEnv *env;
    (*gJavaVM)->AttachCurrentThread(gJavaVM, &env, NULL);

    jmethodID method = (*env)->GetStaticMethodID(env,jCls,"dispatchCallback","(JLjava/lang/String;Ljava/lang/String;)V");

    if (method == NULL) {
        return;
    }

    jstring str_func = (*env)->NewStringUTF(env, "endpointlist");
    jstring str_arg = (*env)->NewStringUTF(env, json);
    (*env)->CallStaticVoidMethod(env,jCls,method, (jlong)(intptr_t)R, str_func, str_arg);

    (*env)->DeleteLocalRef(env,str_func);
    (*env)->DeleteLocalRef(env,str_arg);

    (*gJavaVM)->DetachCurrentThread(gJavaVM);
}

void bklistadd_callback(rcs_state* R, const char *json)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","bklistadd_callback");

    JNIEnv *env;
    (*gJavaVM)->AttachCurrentThread(gJavaVM, &env, NULL);

    jmethodID method = (*env)->GetStaticMethodID(env,jCls,"dispatchCallback","(JLjava/lang/String;Ljava/lang/String;)V");

    if (method == NULL) {
        return;
    }

    jstring str_func = (*env)->NewStringUTF(env, "bklistadd");
    jstring str_arg = (*env)->NewStringUTF(env, json);
    (*env)->CallStaticVoidMethod(env,jCls,method, (jlong)(intptr_t)R, str_func, str_arg);

    (*env)->DeleteLocalRef(env,str_func);
    (*env)->DeleteLocalRef(env,str_arg);

    (*gJavaVM)->DetachCurrentThread(gJavaVM);
}

void gpdnd_callback(rcs_state* R, const char *json)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","gpdnd_callback");

    JNIEnv *env;
    (*gJavaVM)->AttachCurrentThread(gJavaVM, &env, NULL);

    jmethodID method = (*env)->GetStaticMethodID(env,jCls,"dispatchCallback","(JLjava/lang/String;Ljava/lang/String;)V");

    if (method == NULL) {
        return;
    }

    jstring str_func = (*env)->NewStringUTF(env, "gpdnd");
    jstring str_arg = (*env)->NewStringUTF(env, json);
    (*env)->CallStaticVoidMethod(env,jCls,method, (jlong)(intptr_t)R, str_func, str_arg);

    (*env)->DeleteLocalRef(env,str_func);
    (*env)->DeleteLocalRef(env,str_arg);

    (*gJavaVM)->DetachCurrentThread(gJavaVM);
}

void getfileid_callback(rcs_state* R, const char *json)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","getfileid_callback");

    JNIEnv *env;
    (*gJavaVM)->AttachCurrentThread(gJavaVM, &env, NULL);

    jmethodID method = (*env)->GetStaticMethodID(env,jCls,"dispatchCallback","(JLjava/lang/String;Ljava/lang/String;)V");

    if (method == NULL) {
        return;
    }

    jstring str_func = (*env)->NewStringUTF(env, "getfileid");
    jstring str_arg = (*env)->NewStringUTF(env, json);
    (*env)->CallStaticVoidMethod(env,jCls,method, (jlong)(intptr_t)R, str_func, str_arg);

    (*env)->DeleteLocalRef(env,str_func);
    (*env)->DeleteLocalRef(env,str_arg);

    (*gJavaVM)->DetachCurrentThread(gJavaVM);
}

void getsflist_callback(rcs_state* R, const char *json)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","getsflist_callback");

    JNIEnv *env;
    (*gJavaVM)->AttachCurrentThread(gJavaVM, &env, NULL);

    jmethodID method = (*env)->GetStaticMethodID(env,jCls,"dispatchCallback","(JLjava/lang/String;Ljava/lang/String;)V");

    if (method == NULL) {
        return;
    }

    jstring str_func = (*env)->NewStringUTF(env, "getsflist");
    jstring str_arg = (*env)->NewStringUTF(env, json);
    (*env)->CallStaticVoidMethod(env,jCls,method, (jlong)(intptr_t)R, str_func, str_arg);

    (*env)->DeleteLocalRef(env,str_func);
    (*env)->DeleteLocalRef(env,str_arg);

    (*gJavaVM)->DetachCurrentThread(gJavaVM);
}

void devicelistget_callback(rcs_state* R, const char *json)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","devicelistget_callback");

    JNIEnv *env;
    (*gJavaVM)->AttachCurrentThread(gJavaVM, &env, NULL);

    jmethodID method = (*env)->GetStaticMethodID(env,jCls,"dispatchCallback","(JLjava/lang/String;Ljava/lang/String;)V");

    if (method == NULL) {
        return;
    }

    jstring str_func = (*env)->NewStringUTF(env, "devicelistget");
    jstring str_arg = (*env)->NewStringUTF(env, json);
    (*env)->CallStaticVoidMethod(env,jCls,method, (jlong)(intptr_t)R, str_func, str_arg);

    (*env)->DeleteLocalRef(env,str_func);
    (*env)->DeleteLocalRef(env,str_arg);

    (*gJavaVM)->DetachCurrentThread(gJavaVM);
}

void convhistory_callback(rcs_state* R, const char *json)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","convhistory_callback");

    JNIEnv *env;
    (*gJavaVM)->AttachCurrentThread(gJavaVM, &env, NULL);

    jmethodID method = (*env)->GetStaticMethodID(env,jCls,"dispatchCallback","(JLjava/lang/String;Ljava/lang/String;)V");

    if (method == NULL) {
        return;
    }

    jstring str_func = (*env)->NewStringUTF(env, "convhistory");
    jstring str_arg = (*env)->NewStringUTF(env, json);
    (*env)->CallStaticVoidMethod(env,jCls,method, (jlong)(intptr_t)R, str_func, str_arg);

    (*env)->DeleteLocalRef(env,str_func);
    (*env)->DeleteLocalRef(env,str_arg);

    (*gJavaVM)->DetachCurrentThread(gJavaVM);
}

void user_permissionunameflag_callback(rcs_state* R, const char *json)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","user_permissionunameflag_callback");

    JNIEnv *env;
    (*gJavaVM)->AttachCurrentThread(gJavaVM, &env, NULL);

    jmethodID method = (*env)->GetStaticMethodID(env,jCls,"dispatchCallback","(JLjava/lang/String;Ljava/lang/String;)V");

    if (method == NULL) {
        return;
    }

    jstring str_func = (*env)->NewStringUTF(env, "user_permissionunameflag");
    jstring str_arg = (*env)->NewStringUTF(env, json);
    (*env)->CallStaticVoidMethod(env,jCls,method, (jlong)(intptr_t)R, str_func, str_arg);

    (*env)->DeleteLocalRef(env,str_func);
    (*env)->DeleteLocalRef(env,str_arg);

    (*gJavaVM)->DetachCurrentThread(gJavaVM);
}

void user_info_callback(rcs_state* R, const char *json)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","user_info_callback");

    JNIEnv *env;
    (*gJavaVM)->AttachCurrentThread(gJavaVM, &env, NULL);

    jmethodID method = (*env)->GetStaticMethodID(env,jCls,"dispatchCallback","(JLjava/lang/String;Ljava/lang/String;)V");

    if (method == NULL) {
        return;
    }

    jstring str_func = (*env)->NewStringUTF(env, "user_info");
    jstring str_arg = (*env)->NewStringUTF(env, json);
    (*env)->CallStaticVoidMethod(env,jCls,method, (jlong)(intptr_t)R, str_func, str_arg);

    (*env)->DeleteLocalRef(env,str_func);
    (*env)->DeleteLocalRef(env,str_arg);

    (*gJavaVM)->DetachCurrentThread(gJavaVM);
}

void push_callback(rcs_state* R, const char *json)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","push_callback");

    JNIEnv *env;
    (*gJavaVM)->AttachCurrentThread(gJavaVM, &env, NULL);

    jmethodID method = (*env)->GetStaticMethodID(env,jCls,"dispatchCallback","(JLjava/lang/String;Ljava/lang/String;)V");

    if (method == NULL) {
        return;
    }

    jstring str_func = (*env)->NewStringUTF(env, "push");
    jstring str_arg = (*env)->NewStringUTF(env, json);
    (*env)->CallStaticVoidMethod(env,jCls,method, (jlong)(intptr_t)R, str_func, str_arg);

    (*env)->DeleteLocalRef(env,str_func);
    (*env)->DeleteLocalRef(env,str_arg);

    (*gJavaVM)->DetachCurrentThread(gJavaVM);
}

void searchgroup_callback(rcs_state* R, const char *json)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","searchgroup_callback");

    JNIEnv *env;
    (*gJavaVM)->AttachCurrentThread(gJavaVM, &env, NULL);

    jmethodID method = (*env)->GetStaticMethodID(env,jCls,"dispatchCallback","(JLjava/lang/String;Ljava/lang/String;)V");

    if (method == NULL) {
        return;
    }

    jstring str_func = (*env)->NewStringUTF(env, "searchgroup");
    jstring str_arg = (*env)->NewStringUTF(env, json);
    (*env)->CallStaticVoidMethod(env,jCls,method, (jlong)(intptr_t)R, str_func, str_arg);

    (*env)->DeleteLocalRef(env,str_func);
    (*env)->DeleteLocalRef(env,str_arg);

    (*gJavaVM)->DetachCurrentThread(gJavaVM);
}

void user_permissionuidflag_callback(rcs_state* R, const char *json)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","user_permissionuidflag_callback");

    JNIEnv *env;
    (*gJavaVM)->AttachCurrentThread(gJavaVM, &env, NULL);

    jmethodID method = (*env)->GetStaticMethodID(env,jCls,"dispatchCallback","(JLjava/lang/String;Ljava/lang/String;)V");

    if (method == NULL) {
        return;
    }

    jstring str_func = (*env)->NewStringUTF(env, "user_permissionuidflag");
    jstring str_arg = (*env)->NewStringUTF(env, json);
    (*env)->CallStaticVoidMethod(env,jCls,method, (jlong)(intptr_t)R, str_func, str_arg);

    (*env)->DeleteLocalRef(env,str_func);
    (*env)->DeleteLocalRef(env,str_arg);

    (*gJavaVM)->DetachCurrentThread(gJavaVM);
}

void token_callback(rcs_state* R, const char *json)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","token_callback");

    JNIEnv *env;
    (*gJavaVM)->AttachCurrentThread(gJavaVM, &env, NULL);

    jmethodID method = (*env)->GetStaticMethodID(env,jCls,"dispatchCallback","(JLjava/lang/String;Ljava/lang/String;)V");

    if (method == NULL) {
        return;
    }

    jstring str_func = (*env)->NewStringUTF(env, "token");
    jstring str_arg = (*env)->NewStringUTF(env, json);
    (*env)->CallStaticVoidMethod(env,jCls,method, (jlong)(intptr_t)R, str_func, str_arg);

    (*env)->DeleteLocalRef(env,str_func);
    (*env)->DeleteLocalRef(env,str_arg);

    (*gJavaVM)->DetachCurrentThread(gJavaVM);
}

void user_profile_callback(rcs_state* R, const char *json)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","user_profile_callback");

    JNIEnv *env;
    (*gJavaVM)->AttachCurrentThread(gJavaVM, &env, NULL);

    jmethodID method = (*env)->GetStaticMethodID(env,jCls,"dispatchCallback","(JLjava/lang/String;Ljava/lang/String;)V");

    if (method == NULL) {
        return;
    }

    jstring str_func = (*env)->NewStringUTF(env, "user_profile");
    jstring str_arg = (*env)->NewStringUTF(env, json);
    (*env)->CallStaticVoidMethod(env,jCls,method, (jlong)(intptr_t)R, str_func, str_arg);

    (*env)->DeleteLocalRef(env,str_func);
    (*env)->DeleteLocalRef(env,str_arg);

    (*gJavaVM)->DetachCurrentThread(gJavaVM);
}

void group_info_listener(rcs_state* R, const char *json)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","group_info_listener");

    JNIEnv *env;
    (*gJavaVM)->AttachCurrentThread(gJavaVM, &env, NULL);

    jmethodID method = (*env)->GetStaticMethodID(env,jCls,"dispatchListener","(JLjava/lang/String;Ljava/lang/String;)V");

    if (method == NULL) {
        return;
    }

    jstring str_listener = (*env)->NewStringUTF(env, "group_info");
    jstring str_arg = (*env)->NewStringUTF(env, json);
    (*env)->CallStaticVoidMethod(env,jCls,method, (jlong)(intptr_t)R, str_listener, str_arg);

    (*env)->DeleteLocalRef(env,str_listener);
    (*env)->DeleteLocalRef(env,str_arg);

    (*gJavaVM)->DetachCurrentThread(gJavaVM);
}

void msg_ft_listener(rcs_state* R, const char *json)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","msg_ft_listener");

    JNIEnv *env;
    (*gJavaVM)->AttachCurrentThread(gJavaVM, &env, NULL);

    jmethodID method = (*env)->GetStaticMethodID(env,jCls,"dispatchListener","(JLjava/lang/String;Ljava/lang/String;)V");

    if (method == NULL) {
        return;
    }

    jstring str_listener = (*env)->NewStringUTF(env, "msg_ft");
    jstring str_arg = (*env)->NewStringUTF(env, json);
    (*env)->CallStaticVoidMethod(env,jCls,method, (jlong)(intptr_t)R, str_listener, str_arg);

    (*env)->DeleteLocalRef(env,str_listener);
    (*env)->DeleteLocalRef(env,str_arg);

    (*gJavaVM)->DetachCurrentThread(gJavaVM);
}

void av_event_listener(rcs_state* R, const char *json)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","av_event_listener");

    JNIEnv *env;
    (*gJavaVM)->AttachCurrentThread(gJavaVM, &env, NULL);

    jmethodID method = (*env)->GetStaticMethodID(env,jCls,"dispatchListener","(JLjava/lang/String;Ljava/lang/String;)V");

    if (method == NULL) {
        return;
    }

    jstring str_listener = (*env)->NewStringUTF(env, "av_event");
    jstring str_arg = (*env)->NewStringUTF(env, json);
    (*env)->CallStaticVoidMethod(env,jCls,method, (jlong)(intptr_t)R, str_listener, str_arg);

    (*env)->DeleteLocalRef(env,str_listener);
    (*env)->DeleteLocalRef(env,str_arg);

    (*gJavaVM)->DetachCurrentThread(gJavaVM);
}

void buddy_event_listener(rcs_state* R, const char *json)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","buddy_event_listener");

    JNIEnv *env;
    (*gJavaVM)->AttachCurrentThread(gJavaVM, &env, NULL);

    jmethodID method = (*env)->GetStaticMethodID(env,jCls,"dispatchListener","(JLjava/lang/String;Ljava/lang/String;)V");

    if (method == NULL) {
        return;
    }

    jstring str_listener = (*env)->NewStringUTF(env, "buddy_event");
    jstring str_arg = (*env)->NewStringUTF(env, json);
    (*env)->CallStaticVoidMethod(env,jCls,method, (jlong)(intptr_t)R, str_listener, str_arg);

    (*env)->DeleteLocalRef(env,str_listener);
    (*env)->DeleteLocalRef(env,str_arg);

    (*gJavaVM)->DetachCurrentThread(gJavaVM);
}

void sync_completed_listener(rcs_state* R, const char *json)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","sync_completed_listener");

    JNIEnv *env;
    (*gJavaVM)->AttachCurrentThread(gJavaVM, &env, NULL);

    jmethodID method = (*env)->GetStaticMethodID(env,jCls,"dispatchListener","(JLjava/lang/String;Ljava/lang/String;)V");

    if (method == NULL) {
        return;
    }

    jstring str_listener = (*env)->NewStringUTF(env, "sync_completed");
    jstring str_arg = (*env)->NewStringUTF(env, json);
    (*env)->CallStaticVoidMethod(env,jCls,method, (jlong)(intptr_t)R, str_listener, str_arg);

    (*env)->DeleteLocalRef(env,str_listener);
    (*env)->DeleteLocalRef(env,str_arg);

    (*gJavaVM)->DetachCurrentThread(gJavaVM);
}

void login_state_listener(rcs_state* R, const char *json)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","login_state_listener");

    JNIEnv *env;
    (*gJavaVM)->AttachCurrentThread(gJavaVM, &env, NULL);

    jmethodID method = (*env)->GetStaticMethodID(env,jCls,"dispatchListener","(JLjava/lang/String;Ljava/lang/String;)V");

    if (method == NULL) {
        return;
    }

    jstring str_listener = (*env)->NewStringUTF(env, "login_state");
    jstring str_arg = (*env)->NewStringUTF(env, json);
    (*env)->CallStaticVoidMethod(env,jCls,method, (jlong)(intptr_t)R, str_listener, str_arg);

    (*env)->DeleteLocalRef(env,str_listener);
    (*env)->DeleteLocalRef(env,str_arg);

    (*gJavaVM)->DetachCurrentThread(gJavaVM);
}

void group_list_listener(rcs_state* R, const char *json)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","group_list_listener");

    JNIEnv *env;
    (*gJavaVM)->AttachCurrentThread(gJavaVM, &env, NULL);

    jmethodID method = (*env)->GetStaticMethodID(env,jCls,"dispatchListener","(JLjava/lang/String;Ljava/lang/String;)V");

    if (method == NULL) {
        return;
    }

    jstring str_listener = (*env)->NewStringUTF(env, "group_list");
    jstring str_arg = (*env)->NewStringUTF(env, json);
    (*env)->CallStaticVoidMethod(env,jCls,method, (jlong)(intptr_t)R, str_listener, str_arg);

    (*env)->DeleteLocalRef(env,str_listener);
    (*env)->DeleteLocalRef(env,str_arg);

    (*gJavaVM)->DetachCurrentThread(gJavaVM);
}

void msg_batch_listener(rcs_state* R, const char *json)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","msg_batch_listener");

    JNIEnv *env;
    (*gJavaVM)->AttachCurrentThread(gJavaVM, &env, NULL);

    jmethodID method = (*env)->GetStaticMethodID(env,jCls,"dispatchListener","(JLjava/lang/String;Ljava/lang/String;)V");

    if (method == NULL) {
        return;
    }

    jstring str_listener = (*env)->NewStringUTF(env, "msg_batch");
    jstring str_arg = (*env)->NewStringUTF(env, json);
    (*env)->CallStaticVoidMethod(env,jCls,method, (jlong)(intptr_t)R, str_listener, str_arg);

    (*env)->DeleteLocalRef(env,str_listener);
    (*env)->DeleteLocalRef(env,str_arg);

    (*gJavaVM)->DetachCurrentThread(gJavaVM);
}

void group_notify_listener(rcs_state* R, const char *json)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","group_notify_listener");

    JNIEnv *env;
    (*gJavaVM)->AttachCurrentThread(gJavaVM, &env, NULL);

    jmethodID method = (*env)->GetStaticMethodID(env,jCls,"dispatchListener","(JLjava/lang/String;Ljava/lang/String;)V");

    if (method == NULL) {
        return;
    }

    jstring str_listener = (*env)->NewStringUTF(env, "group_notify");
    jstring str_arg = (*env)->NewStringUTF(env, json);
    (*env)->CallStaticVoidMethod(env,jCls,method, (jlong)(intptr_t)R, str_listener, str_arg);

    (*env)->DeleteLocalRef(env,str_listener);
    (*env)->DeleteLocalRef(env,str_arg);

    (*gJavaVM)->DetachCurrentThread(gJavaVM);
}

void presence_notify_listener(rcs_state* R, const char *json)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","presence_notify_listener");

    JNIEnv *env;
    (*gJavaVM)->AttachCurrentThread(gJavaVM, &env, NULL);

    jmethodID method = (*env)->GetStaticMethodID(env,jCls,"dispatchListener","(JLjava/lang/String;Ljava/lang/String;)V");

    if (method == NULL) {
        return;
    }

    jstring str_listener = (*env)->NewStringUTF(env, "presence_notify");
    jstring str_arg = (*env)->NewStringUTF(env, json);
    (*env)->CallStaticVoidMethod(env,jCls,method, (jlong)(intptr_t)R, str_listener, str_arg);

    (*env)->DeleteLocalRef(env,str_listener);
    (*env)->DeleteLocalRef(env,str_arg);

    (*gJavaVM)->DetachCurrentThread(gJavaVM);
}

void sync_listener(rcs_state* R, const char *json)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","sync_listener");

    JNIEnv *env;
    (*gJavaVM)->AttachCurrentThread(gJavaVM, &env, NULL);

    jmethodID method = (*env)->GetStaticMethodID(env,jCls,"dispatchListener","(JLjava/lang/String;Ljava/lang/String;)V");

    if (method == NULL) {
        return;
    }

    jstring str_listener = (*env)->NewStringUTF(env, "sync");
    jstring str_arg = (*env)->NewStringUTF(env, json);
    (*env)->CallStaticVoidMethod(env,jCls,method, (jlong)(intptr_t)R, str_listener, str_arg);

    (*env)->DeleteLocalRef(env,str_listener);
    (*env)->DeleteLocalRef(env,str_arg);

    (*gJavaVM)->DetachCurrentThread(gJavaVM);
}

void msg_emoticon_listener(rcs_state* R, const char *json)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","msg_emoticon_listener");

    JNIEnv *env;
    (*gJavaVM)->AttachCurrentThread(gJavaVM, &env, NULL);

    jmethodID method = (*env)->GetStaticMethodID(env,jCls,"dispatchListener","(JLjava/lang/String;Ljava/lang/String;)V");

    if (method == NULL) {
        return;
    }

    jstring str_listener = (*env)->NewStringUTF(env, "msg_emoticon");
    jstring str_arg = (*env)->NewStringUTF(env, json);
    (*env)->CallStaticVoidMethod(env,jCls,method, (jlong)(intptr_t)R, str_listener, str_arg);

    (*env)->DeleteLocalRef(env,str_listener);
    (*env)->DeleteLocalRef(env,str_arg);

    (*gJavaVM)->DetachCurrentThread(gJavaVM);
}

void msg_status_listener(rcs_state* R, const char *json)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","msg_status_listener");

    JNIEnv *env;
    (*gJavaVM)->AttachCurrentThread(gJavaVM, &env, NULL);

    jmethodID method = (*env)->GetStaticMethodID(env,jCls,"dispatchListener","(JLjava/lang/String;Ljava/lang/String;)V");

    if (method == NULL) {
        return;
    }

    jstring str_listener = (*env)->NewStringUTF(env, "msg_status");
    jstring str_arg = (*env)->NewStringUTF(env, json);
    (*env)->CallStaticVoidMethod(env,jCls,method, (jlong)(intptr_t)R, str_listener, str_arg);

    (*env)->DeleteLocalRef(env,str_listener);
    (*env)->DeleteLocalRef(env,str_arg);

    (*gJavaVM)->DetachCurrentThread(gJavaVM);
}

void msg_custom_listener(rcs_state* R, const char *json)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","msg_custom_listener");

    JNIEnv *env;
    (*gJavaVM)->AttachCurrentThread(gJavaVM, &env, NULL);

    jmethodID method = (*env)->GetStaticMethodID(env,jCls,"dispatchListener","(JLjava/lang/String;Ljava/lang/String;)V");

    if (method == NULL) {
        return;
    }

    jstring str_listener = (*env)->NewStringUTF(env, "msg_custom");
    jstring str_arg = (*env)->NewStringUTF(env, json);
    (*env)->CallStaticVoidMethod(env,jCls,method, (jlong)(intptr_t)R, str_listener, str_arg);

    (*env)->DeleteLocalRef(env,str_listener);
    (*env)->DeleteLocalRef(env,str_arg);

    (*gJavaVM)->DetachCurrentThread(gJavaVM);
}

void logout_listener(rcs_state* R, const char *json)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","logout_listener");

    JNIEnv *env;
    (*gJavaVM)->AttachCurrentThread(gJavaVM, &env, NULL);

    jmethodID method = (*env)->GetStaticMethodID(env,jCls,"dispatchListener","(JLjava/lang/String;Ljava/lang/String;)V");

    if (method == NULL) {
        return;
    }

    jstring str_listener = (*env)->NewStringUTF(env, "logout");
    jstring str_arg = (*env)->NewStringUTF(env, json);
    (*env)->CallStaticVoidMethod(env,jCls,method, (jlong)(intptr_t)R, str_listener, str_arg);

    (*env)->DeleteLocalRef(env,str_listener);
    (*env)->DeleteLocalRef(env,str_arg);

    (*gJavaVM)->DetachCurrentThread(gJavaVM);
}

void msg_conv_status_listener(rcs_state* R, const char *json)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","msg_conv_status_listener");

    JNIEnv *env;
    (*gJavaVM)->AttachCurrentThread(gJavaVM, &env, NULL);

    jmethodID method = (*env)->GetStaticMethodID(env,jCls,"dispatchListener","(JLjava/lang/String;Ljava/lang/String;)V");

    if (method == NULL) {
        return;
    }

    jstring str_listener = (*env)->NewStringUTF(env, "msg_conv_status");
    jstring str_arg = (*env)->NewStringUTF(env, json);
    (*env)->CallStaticVoidMethod(env,jCls,method, (jlong)(intptr_t)R, str_listener, str_arg);

    (*env)->DeleteLocalRef(env,str_listener);
    (*env)->DeleteLocalRef(env,str_arg);

    (*gJavaVM)->DetachCurrentThread(gJavaVM);
}

void notify_status_listener(rcs_state* R, const char *json)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","notify_status_listener");

    JNIEnv *env;
    (*gJavaVM)->AttachCurrentThread(gJavaVM, &env, NULL);

    jmethodID method = (*env)->GetStaticMethodID(env,jCls,"dispatchListener","(JLjava/lang/String;Ljava/lang/String;)V");

    if (method == NULL) {
        return;
    }

    jstring str_listener = (*env)->NewStringUTF(env, "notify_status");
    jstring str_arg = (*env)->NewStringUTF(env, json);
    (*env)->CallStaticVoidMethod(env,jCls,method, (jlong)(intptr_t)R, str_listener, str_arg);

    (*env)->DeleteLocalRef(env,str_listener);
    (*env)->DeleteLocalRef(env,str_arg);

    (*gJavaVM)->DetachCurrentThread(gJavaVM);
}

void buddy_list_listener(rcs_state* R, const char *json)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","buddy_list_listener");

    JNIEnv *env;
    (*gJavaVM)->AttachCurrentThread(gJavaVM, &env, NULL);

    jmethodID method = (*env)->GetStaticMethodID(env,jCls,"dispatchListener","(JLjava/lang/String;Ljava/lang/String;)V");

    if (method == NULL) {
        return;
    }

    jstring str_listener = (*env)->NewStringUTF(env, "buddy_list");
    jstring str_arg = (*env)->NewStringUTF(env, json);
    (*env)->CallStaticVoidMethod(env,jCls,method, (jlong)(intptr_t)R, str_listener, str_arg);

    (*env)->DeleteLocalRef(env,str_listener);
    (*env)->DeleteLocalRef(env,str_arg);

    (*gJavaVM)->DetachCurrentThread(gJavaVM);
}

void msg_text_listener(rcs_state* R, const char *json)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","msg_text_listener");

    JNIEnv *env;
    (*gJavaVM)->AttachCurrentThread(gJavaVM, &env, NULL);

    jmethodID method = (*env)->GetStaticMethodID(env,jCls,"dispatchListener","(JLjava/lang/String;Ljava/lang/String;)V");

    if (method == NULL) {
        return;
    }

    jstring str_listener = (*env)->NewStringUTF(env, "msg_text");
    jstring str_arg = (*env)->NewStringUTF(env, json);
    (*env)->CallStaticVoidMethod(env,jCls,method, (jlong)(intptr_t)R, str_listener, str_arg);

    (*env)->DeleteLocalRef(env,str_listener);
    (*env)->DeleteLocalRef(env,str_arg);

    (*gJavaVM)->DetachCurrentThread(gJavaVM);
}

void user_info_listener(rcs_state* R, const char *json)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","user_info_listener");

    JNIEnv *env;
    (*gJavaVM)->AttachCurrentThread(gJavaVM, &env, NULL);

    jmethodID method = (*env)->GetStaticMethodID(env,jCls,"dispatchListener","(JLjava/lang/String;Ljava/lang/String;)V");

    if (method == NULL) {
        return;
    }

    jstring str_listener = (*env)->NewStringUTF(env, "user_info");
    jstring str_arg = (*env)->NewStringUTF(env, json);
    (*env)->CallStaticVoidMethod(env,jCls,method, (jlong)(intptr_t)R, str_listener, str_arg);

    (*env)->DeleteLocalRef(env,str_listener);
    (*env)->DeleteLocalRef(env,str_arg);

    (*gJavaVM)->DetachCurrentThread(gJavaVM);
}

void group_event_listener(rcs_state* R, const char *json)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","group_event_listener");

    JNIEnv *env;
    (*gJavaVM)->AttachCurrentThread(gJavaVM, &env, NULL);

    jmethodID method = (*env)->GetStaticMethodID(env,jCls,"dispatchListener","(JLjava/lang/String;Ljava/lang/String;)V");

    if (method == NULL) {
        return;
    }

    jstring str_listener = (*env)->NewStringUTF(env, "group_event");
    jstring str_arg = (*env)->NewStringUTF(env, json);
    (*env)->CallStaticVoidMethod(env,jCls,method, (jlong)(intptr_t)R, str_listener, str_arg);

    (*env)->DeleteLocalRef(env,str_listener);
    (*env)->DeleteLocalRef(env,str_arg);

    (*gJavaVM)->DetachCurrentThread(gJavaVM);
}

void ep_changed_listener(rcs_state* R, const char *json)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","ep_changed_listener");

    JNIEnv *env;
    (*gJavaVM)->AttachCurrentThread(gJavaVM, &env, NULL);

    jmethodID method = (*env)->GetStaticMethodID(env,jCls,"dispatchListener","(JLjava/lang/String;Ljava/lang/String;)V");

    if (method == NULL) {
        return;
    }

    jstring str_listener = (*env)->NewStringUTF(env, "ep_changed");
    jstring str_arg = (*env)->NewStringUTF(env, json);
    (*env)->CallStaticVoidMethod(env,jCls,method, (jlong)(intptr_t)R, str_listener, str_arg);

    (*env)->DeleteLocalRef(env,str_listener);
    (*env)->DeleteLocalRef(env,str_arg);

    (*gJavaVM)->DetachCurrentThread(gJavaVM);
}

void sync_blacklist_listener(rcs_state* R, const char *json)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","sync_blacklist_listener");

    JNIEnv *env;
    (*gJavaVM)->AttachCurrentThread(gJavaVM, &env, NULL);

    jmethodID method = (*env)->GetStaticMethodID(env,jCls,"dispatchListener","(JLjava/lang/String;Ljava/lang/String;)V");

    if (method == NULL) {
        return;
    }

    jstring str_listener = (*env)->NewStringUTF(env, "sync_blacklist");
    jstring str_arg = (*env)->NewStringUTF(env, json);
    (*env)->CallStaticVoidMethod(env,jCls,method, (jlong)(intptr_t)R, str_listener, str_arg);

    (*env)->DeleteLocalRef(env,str_listener);
    (*env)->DeleteLocalRef(env,str_arg);

    (*gJavaVM)->DetachCurrentThread(gJavaVM);
}

void msg_cloudfile_listener(rcs_state* R, const char *json)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","msg_cloudfile_listener");

    JNIEnv *env;
    (*gJavaVM)->AttachCurrentThread(gJavaVM, &env, NULL);

    jmethodID method = (*env)->GetStaticMethodID(env,jCls,"dispatchListener","(JLjava/lang/String;Ljava/lang/String;)V");

    if (method == NULL) {
        return;
    }

    jstring str_listener = (*env)->NewStringUTF(env, "msg_cloudfile");
    jstring str_arg = (*env)->NewStringUTF(env, json);
    (*env)->CallStaticVoidMethod(env,jCls,method, (jlong)(intptr_t)R, str_listener, str_arg);

    (*env)->DeleteLocalRef(env,str_listener);
    (*env)->DeleteLocalRef(env,str_arg);

    (*gJavaVM)->DetachCurrentThread(gJavaVM);
}

void msg_report_listener(rcs_state* R, const char *json)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","msg_report_listener");

    JNIEnv *env;
    (*gJavaVM)->AttachCurrentThread(gJavaVM, &env, NULL);

    jmethodID method = (*env)->GetStaticMethodID(env,jCls,"dispatchListener","(JLjava/lang/String;Ljava/lang/String;)V");

    if (method == NULL) {
        return;
    }

    jstring str_listener = (*env)->NewStringUTF(env, "msg_report");
    jstring str_arg = (*env)->NewStringUTF(env, json);
    (*env)->CallStaticVoidMethod(env,jCls,method, (jlong)(intptr_t)R, str_listener, str_arg);

    (*env)->DeleteLocalRef(env,str_listener);
    (*env)->DeleteLocalRef(env,str_arg);

    (*gJavaVM)->DetachCurrentThread(gJavaVM);
}

int lua_alarm_set(lua_State* L){
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","lua_alarm_set");
    rcs_state* R = lua_getstatedata(L);
    const char *json = luaL_checkstring(L, 1);
    JNIEnv *env;
    (*gJavaVM)->AttachCurrentThread(gJavaVM, &env, NULL);

     jmethodID method = (*env)->GetStaticMethodID(env,jCls,"dispatchAlarm","(JLjava/lang/String;Ljava/lang/String;)V");

     if (method == NULL) {
         return;
     }

     jstring str_func = (*env)->NewStringUTF(env, "set");
     jstring str_arg = (*env)->NewStringUTF(env, json);
     (*env)->CallStaticVoidMethod(env,jCls,method, (jlong)(intptr_t)R, str_func, str_arg);

     (*env)->DeleteLocalRef(env,str_func);
     (*env)->DeleteLocalRef(env,str_arg);

     (*gJavaVM)->DetachCurrentThread(gJavaVM);
}

int lua_alarm_setRepeating(lua_State* L){
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","lua_alarm_setRepeating");
    rcs_state* R = lua_getstatedata(L);
    const char *json = luaL_checkstring(L, 1);
    JNIEnv *env;
    (*gJavaVM)->AttachCurrentThread(gJavaVM, &env, NULL);

     jmethodID method = (*env)->GetStaticMethodID(env,jCls,"dispatchAlarm","(JLjava/lang/String;Ljava/lang/String;)V");

     if (method == NULL) {
         return;
     }

     jstring str_func = (*env)->NewStringUTF(env, "setRepeating");
     jstring str_arg = (*env)->NewStringUTF(env, json);
     (*env)->CallStaticVoidMethod(env,jCls,method, (jlong)(intptr_t)R, str_func, str_arg);

     (*env)->DeleteLocalRef(env,str_func);
     (*env)->DeleteLocalRef(env,str_arg);

     (*gJavaVM)->DetachCurrentThread(gJavaVM);
}

int lua_alarm_cancel(lua_State* L){
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","lua_alarm_cancel");
    rcs_state* R = lua_getstatedata(L);
    const char *json = luaL_checkstring(L, 1);
    JNIEnv *env;
    (*gJavaVM)->AttachCurrentThread(gJavaVM, &env, NULL);

     jmethodID method = (*env)->GetStaticMethodID(env,jCls,"dispatchAlarm","(JLjava/lang/String;Ljava/lang/String;)V");

     if (method == NULL) {
         return;
     }

     jstring str_func = (*env)->NewStringUTF(env, "cancel");
     jstring str_arg = (*env)->NewStringUTF(env, json);
     (*env)->CallStaticVoidMethod(env,jCls,method, (jlong)(intptr_t)R, str_func, str_arg);

     (*env)->DeleteLocalRef(env,str_func);
     (*env)->DeleteLocalRef(env,str_arg);

     (*gJavaVM)->DetachCurrentThread(gJavaVM);
}

void register_alarm(lua_State *L){
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","begin register_alarm");
    lua_newtable(L);

    lua_setkv(L, "set", lua_alarm_set);
    lua_setkv(L, "setRepeating", lua_alarm_setRepeating);
    lua_setkv(L, "cancel", lua_alarm_cancel);


    lua_setglobal(L, "nalarm");

    __android_log_print(ANDROID_LOG_INFO, "RcsJni","register_alarm ok");
}

JNIEXPORT jlong JNICALL Java_com_interrcs_sdk_RcsApi_nativeStartState(JNIEnv *env, jclass cls, jlong statePtr)
{
    rcs_state *R = (void *)((intptr_t)statePtr);
    return rcs_start(R);
}

JNIEXPORT jlong JNICALL Java_com_interrcs_sdk_RcsApi_nativeNewState(JNIEnv *env, jclass cls, jstring number, jstring imei,
jstring imsi, jstring devicevendor, jstring devicemodel, jstring deviceos, jstring deviceosversion,
jstring clientvendor, jstring clientversion, jstring storage, jstring appid, jstring syspath)
{
    __android_log_print(ANDROID_LOG_INFO, "RcsJni","begin newState");
    const char *c_number = (*env)->GetStringUTFChars(env, number, NULL);
    const char *c_imei = (*env)->GetStringUTFChars(env, imei, NULL);
    const char *c_imsi = (*env)->GetStringUTFChars(env, imsi, NULL);
    const char *c_devicevendor = (*env)->GetStringUTFChars(env, devicevendor, NULL);
    const char *c_devicemodel = (*env)->GetStringUTFChars(env, devicemodel, NULL);
    const char *c_deviceos = (*env)->GetStringUTFChars(env, deviceos, NULL);
    const char *c_deviceosversion = (*env)->GetStringUTFChars(env, deviceosversion, NULL);
    const char *c_clientvendor = (*env)->GetStringUTFChars(env, clientvendor, NULL);
    const char *c_clientversion = (*env)->GetStringUTFChars(env, clientversion, NULL);
    const char *c_storage = (*env)->GetStringUTFChars(env, storage, NULL);
    const char *c_appid = (*env)->GetStringUTFChars(env, appid, NULL);
    const char *c_syspath = (*env)->GetStringUTFChars(env, syspath, NULL);
    
    rcs_state* R = rcs_state_new();
    
    rcs_listeners listeners;
    memset(&listeners, 0, sizeof(listeners));
        listeners.group_info = NULL;
    listeners.group_info_json = group_info_listener;
        listeners.msg_ft = NULL;
    listeners.msg_ft_json = msg_ft_listener;
        listeners.av_event = NULL;
    listeners.av_event_json = av_event_listener;
        listeners.buddy_event = NULL;
    listeners.buddy_event_json = buddy_event_listener;
        listeners.sync_completed = NULL;
    listeners.sync_completed_json = sync_completed_listener;
        listeners.login_state = NULL;
    listeners.login_state_json = login_state_listener;
        listeners.group_list = NULL;
    listeners.group_list_json = group_list_listener;
        listeners.msg_batch = NULL;
    listeners.msg_batch_json = msg_batch_listener;
        listeners.group_notify = NULL;
    listeners.group_notify_json = group_notify_listener;
        listeners.presence_notify = NULL;
    listeners.presence_notify_json = presence_notify_listener;
        listeners.sync = NULL;
    listeners.sync_json = sync_listener;
        listeners.msg_emoticon = NULL;
    listeners.msg_emoticon_json = msg_emoticon_listener;
        listeners.msg_status = NULL;
    listeners.msg_status_json = msg_status_listener;
        listeners.msg_custom = NULL;
    listeners.msg_custom_json = msg_custom_listener;
        listeners.logout = NULL;
    listeners.logout_json = logout_listener;
        listeners.msg_conv_status = NULL;
    listeners.msg_conv_status_json = msg_conv_status_listener;
        listeners.notify_status = NULL;
    listeners.notify_status_json = notify_status_listener;
        listeners.buddy_list = NULL;
    listeners.buddy_list_json = buddy_list_listener;
        listeners.msg_text = NULL;
    listeners.msg_text_json = msg_text_listener;
        listeners.user_info = NULL;
    listeners.user_info_json = user_info_listener;
        listeners.group_event = NULL;
    listeners.group_event_json = group_event_listener;
        listeners.ep_changed = NULL;
    listeners.ep_changed_json = ep_changed_listener;
        listeners.sync_blacklist = NULL;
    listeners.sync_blacklist_json = sync_blacklist_listener;
        listeners.msg_cloudfile = NULL;
    listeners.msg_cloudfile_json = msg_cloudfile_listener;
        listeners.msg_report = NULL;
    listeners.msg_report_json = msg_report_listener;
        rcs_set_listeners(R, &listeners);
    
    rcs_callbacks callbacks;
        callbacks.user_portrait = NULL;
    callbacks.user_portrait_json = user_portrait_callback;
        callbacks.uploadsf = NULL;
    callbacks.uploadsf_json = uploadsf_callback;
        callbacks.presence_callback = NULL;
    callbacks.presence_callback_json = presence_callback_callback;
        callbacks.buddy = NULL;
    callbacks.buddy_json = buddy_callback;
        callbacks.endpoint = NULL;
    callbacks.endpoint_json = endpoint_callback;
        callbacks.getpresence = NULL;
    callbacks.getpresence_json = getpresence_callback;
        callbacks.cap = NULL;
    callbacks.cap_json = cap_callback;
        callbacks.bklistremove = NULL;
    callbacks.bklistremove_json = bklistremove_callback;
        callbacks.user_buddyflag = NULL;
    callbacks.user_buddyflag_json = user_buddyflag_callback;
        callbacks.bklistget = NULL;
    callbacks.bklistget_json = bklistget_callback;
        callbacks.provision = NULL;
    callbacks.provision_json = provision_callback;
        callbacks.msg2shorturl = NULL;
    callbacks.msg2shorturl_json = msg2shorturl_callback;
        callbacks.devicestatusget = NULL;
    callbacks.devicestatusget_json = devicestatusget_callback;
        callbacks.message = NULL;
    callbacks.message_json = message_callback;
        callbacks.convlist = NULL;
    callbacks.convlist_json = convlist_callback;
        callbacks.epdnd = NULL;
    callbacks.epdnd_json = epdnd_callback;
        callbacks.user_dndflag = NULL;
    callbacks.user_dndflag_json = user_dndflag_callback;
        callbacks.action = NULL;
    callbacks.action_json = action_callback;
        callbacks.group = NULL;
    callbacks.group_json = group_callback;
        callbacks.avcall = NULL;
    callbacks.avcall_json = avcall_callback;
        callbacks.shareinfo = NULL;
    callbacks.shareinfo_json = shareinfo_callback;
        callbacks.login = NULL;
    callbacks.login_json = login_callback;
        callbacks.getsms = NULL;
    callbacks.getsms_json = getsms_callback;
        callbacks.msgset = NULL;
    callbacks.msgset_json = msgset_callback;
        callbacks.user_state = NULL;
    callbacks.user_state_json = user_state_callback;
        callbacks.deletesf = NULL;
    callbacks.deletesf_json = deletesf_callback;
        callbacks.deviceremove = NULL;
    callbacks.deviceremove_json = deviceremove_callback;
        callbacks.deviceadd = NULL;
    callbacks.deviceadd_json = deviceadd_callback;
        callbacks.notifyread = NULL;
    callbacks.notifyread_json = notifyread_callback;
        callbacks.endpointlist = NULL;
    callbacks.endpointlist_json = endpointlist_callback;
        callbacks.bklistadd = NULL;
    callbacks.bklistadd_json = bklistadd_callback;
        callbacks.gpdnd = NULL;
    callbacks.gpdnd_json = gpdnd_callback;
        callbacks.getfileid = NULL;
    callbacks.getfileid_json = getfileid_callback;
        callbacks.getsflist = NULL;
    callbacks.getsflist_json = getsflist_callback;
        callbacks.devicelistget = NULL;
    callbacks.devicelistget_json = devicelistget_callback;
        callbacks.convhistory = NULL;
    callbacks.convhistory_json = convhistory_callback;
        callbacks.user_permissionunameflag = NULL;
    callbacks.user_permissionunameflag_json = user_permissionunameflag_callback;
        callbacks.user_info = NULL;
    callbacks.user_info_json = user_info_callback;
        callbacks.push = NULL;
    callbacks.push_json = push_callback;
        callbacks.searchgroup = NULL;
    callbacks.searchgroup_json = searchgroup_callback;
        callbacks.user_permissionuidflag = NULL;
    callbacks.user_permissionuidflag_json = user_permissionuidflag_callback;
        callbacks.token = NULL;
    callbacks.token_json = token_callback;
        callbacks.user_profile = NULL;
    callbacks.user_profile_json = user_profile_callback;
        rcs_set_callbacks(R, &callbacks);
    
    int clientType = 1; //android
    register_alarm(R->L);
    int r = rcs_init(R, c_number, c_imei, c_imsi, c_devicevendor, c_devicemodel, c_deviceos, c_deviceosversion,
    c_clientvendor, c_clientversion, c_storage, c_appid, c_syspath, clientType);

    (*env)->ReleaseStringUTFChars(env, number, c_number);
    (*env)->ReleaseStringUTFChars(env, imei, c_imei);
    (*env)->ReleaseStringUTFChars(env, imsi, c_imsi);
    (*env)->ReleaseStringUTFChars(env, devicevendor, c_devicevendor);
    (*env)->ReleaseStringUTFChars(env, devicemodel, c_devicemodel);
    (*env)->ReleaseStringUTFChars(env, deviceos, c_deviceos);
    (*env)->ReleaseStringUTFChars(env, deviceosversion, c_deviceosversion);
    (*env)->ReleaseStringUTFChars(env, clientvendor, c_clientvendor);
    (*env)->ReleaseStringUTFChars(env, clientversion, c_clientversion);
    (*env)->ReleaseStringUTFChars(env, storage, c_storage);
    (*env)->ReleaseStringUTFChars(env, appid, c_appid);
    (*env)->ReleaseStringUTFChars(env, syspath, c_syspath);
    
    (*env)->GetJavaVM(env, &gJavaVM);
    jCls = (*env)->NewGlobalRef(env, cls);
    if(r == 0){
        return (jlong)(intptr_t)R;
    }else{
        (*env)->ThrowNew(env, (*env)->FindClass(env, "java/lang/Exception"), "init sdk failed");
    }
}


#ifdef __cplusplus
}
#endif

